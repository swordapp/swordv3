<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SWORD 3.0 Specification</title>

    <link rel="stylesheet" href="assets/css/swordv3.css">
</head>
<body>

<h1 class="main_title">SWORD 3.0 Specification</h1><div class=nav>
<div class=toc>
<ul>
<li><a href="#1.">1. Credits</a></li>
<li><a href="#2.">2. Introduction</a></li>
<li><a href="#3.">3. Notational Conventions</a></li>
<li><a href="#4.">4. Terminology</a><ul>
<li><a href="#4.1.">4.1. URLs</a></li>
<li><a href="#4.2.">4.2. Document Types</a></li>
<li><a href="#4.3.">4.3. Namespaces</a></li>
</ul>
</li>
<li><a href="#5.">5. Structure of SWORD Objects</a></li>
<li><a href="#6.">6. HTTP Headers</a></li>
<li><a href="#7.">7. Protocol Operations</a><ul>
<li><a href="#7.1.">7.1. Error Responses</a></li>
<li><a href="#7.2.">7.2. Redirects</a></li>
<li><a href="#7.3.">7.3. HTTP Requests</a><ul>
<li><a href="#7.3.1.">7.3.1. GET Service-URL</a></li>
<li><a href="#7.3.2.">7.3.2. POST Service-URL</a></li>
<li><a href="#7.3.3.">7.3.3. GET Object-URL</a></li>
<li><a href="#7.3.4.">7.3.4. POST Object-URL</a></li>
<li><a href="#7.3.5.">7.3.5. PUT Object-URL</a></li>
<li><a href="#7.3.6.">7.3.6. DELETE Object-URL</a></li>
<li><a href="#7.3.7.">7.3.7. GET Metadata-URL</a></li>
<li><a href="#7.3.8.">7.3.8. PUT Metadata-URL</a></li>
<li><a href="#7.3.9.">7.3.9. PUT FileSet-URL</a></li>
<li><a href="#7.3.10.">7.3.10. DELETE FileSet-URL</a></li>
<li><a href="#7.3.11.">7.3.11. GET File-URL</a></li>
<li><a href="#7.3.12.">7.3.12. PUT File-URL</a></li>
<li><a href="#7.3.13.">7.3.13. DELETE File-URL</a></li>
<li><a href="#7.3.14.">7.3.14. POST Staging-URL</a></li>
<li><a href="#7.3.15.">7.3.15. GET Temporary-URL</a></li>
<li><a href="#7.3.16.">7.3.16. POST Temporary-URL</a></li>
<li><a href="#7.3.17.">7.3.17. DELETE Temporary-URL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#8.">8. Protocol Requirements</a><ul>
<li><a href="#8.1.">8.1. Requirement Hierarchies</a></li>
<li><a href="#8.2.">8.2. Requirement Groups</a></li>
</ul>
</li>
<li><a href="#9.">9. Documents</a><ul>
<li><a href="#9.1.">9.1. JSON-LD Context</a></li>
<li><a href="#9.2.">9.2. Service Document</a></li>
<li><a href="#9.3.">9.3. Metadata Document</a></li>
<li><a href="#9.4.">9.4. By-Reference Document</a></li>
<li><a href="#9.5.">9.5. Metadata + By-Reference Document</a></li>
<li><a href="#9.6.">9.6. Status Document</a><ul>
<li><a href="#9.6.1.">9.6.1. Available <code>rel</code> types and their meanings</a></li>
<li><a href="#9.6.2.">9.6.2. Required SWORD State Information</a></li>
<li><a href="#9.6.3.">9.6.3. Ingest Statuses for Individual Files</a></li>
</ul>
</li>
<li><a href="#9.7.">9.7. Segmented File Upload Document</a></li>
<li><a href="#9.8.">9.8. Error Document</a><ul>
<li><a href="#9.8.1.">9.8.1. Error Types</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#10.">10. Authentication and Authorisation</a><ul>
<li><a href="#10.1.">10.1. Announcing Support for Authentication Schemes</a></li>
<li><a href="#10.2.">10.2. Authentication and Authorisation in requests</a></li>
<li><a href="#10.3.">10.3. Recording Depositing Users</a></li>
</ul>
</li>
<li><a href="#11.">11. Transport Security</a></li>
<li><a href="#12.">12. Content Disposition</a></li>
<li><a href="#13.">13. Content Digests</a><ul>
<li><a href="#13.1.">13.1. Announcing Support For Digests</a></li>
<li><a href="#13.2.">13.2. Transmitting Digests</a></li>
</ul>
</li>
<li><a href="#14.">14. Concurrency Control</a><ul>
<li><a href="#14.1.">14.1. Announcing Support for Concurrency Control</a></li>
<li><a href="#14.2.">14.2. Procedures around Concurrency Control</a></li>
<li><a href="#14.3.">14.3. Resource Hierarchy for ETag Regeneration</a></li>
</ul>
</li>
<li><a href="#15.">15. Continued Deposit</a><ul>
<li><a href="#15.1.">15.1. Deposit Complete</a></li>
<li><a href="#15.2.">15.2. Deposit Incomplete</a></li>
<li><a href="#15.3.">15.3. Completing a Previously Incomplete Deposit</a></li>
</ul>
</li>
<li><a href="#16.">16. Segmented File Upload</a><ul>
<li><a href="#16.1.">16.1. Announcing Support for Segmented File Upload</a></li>
<li><a href="#16.2.">16.2. Outline of Process for Segmented File Upload</a></li>
<li><a href="#16.3.">16.3. Segmented Upload Initialisation</a></li>
<li><a href="#16.4.">16.4. Uploading File Segments</a></li>
<li><a href="#16.5.">16.5. Retrieving Information about a Segmented File Upload</a></li>
<li><a href="#16.6.">16.6. Aborting an Upload</a></li>
<li><a href="#16.7.">16.7. Incomplete Upload Retention</a></li>
<li><a href="#16.8.">16.8. Completed Upload Retention</a></li>
<li><a href="#16.9.">16.9. Errors</a></li>
</ul>
</li>
<li><a href="#17.">17. By-Reference Deposit</a><ul>
<li><a href="#17.1.">17.1. Announcing Support for By Reference Deposit</a></li>
<li><a href="#17.2.">17.2. Options for By-Reference Deposit</a><ul>
<li><a href="#17.2.1.">17.2.1. Usage with Segmented File Upload</a></li>
</ul>
</li>
<li><a href="#17.3.">17.3. Server-Side Processing of By Reference Deposits</a><ul>
<li><a href="#17.3.1.">17.3.1. Representation in the Status Document</a></li>
</ul>
</li>
<li><a href="#17.4.">17.4. Responsibilities of the client/reference server</a></li>
</ul>
</li>
<li><a href="#18.">18. Metadata Deposit</a><ul>
<li><a href="#18.1.">18.1. Announcing Support for Metadata Formats</a></li>
<li><a href="#18.2.">18.2. Indicating Metadata Format to the Server</a></li>
</ul>
</li>
<li><a href="#19.">19. Metadata Formats</a><ul>
<li><a href="#19.1.">19.1. Default Format</a></li>
<li><a href="#19.2.">19.2. Depositing Other Formats</a></li>
</ul>
</li>
<li><a href="#20.">20. Packaged Content Deposit</a><ul>
<li><a href="#20.1.">20.1. Announcing Support for Packaged Content Deposit</a></li>
<li><a href="#20.2.">20.2. Package support during resource creation</a></li>
<li><a href="#20.3.">20.3. Package description in Status documents</a></li>
</ul>
</li>
<li><a href="#21.">21. Packaging Formats</a><ul>
<li><a href="#21.1.">21.1. Binary</a></li>
<li><a href="#21.2.">21.2. SimpleZip</a></li>
<li><a href="#21.3.">21.3. SWORDBagIt</a></li>
</ul>
</li>
<li><a href="#22.">22. Auto-Discovery</a><ul>
<li><a href="#22.1.">22.1. For Services</a></li>
<li><a href="#22.2.">22.2. For Objects</a></li>
</ul>
</li>
<li><a href="#23.">23. References</a>
</div></li>
</ul>
</div>
<div class=spec>
<p><strong>Version</strong>: SWORD 3.0 Release Candidate 1</p>
<p><strong>Last modified</strong>: 2019-06-05</p>
<p><a name="1."></a></p>
<h1>1. Credits</h1>
<p><strong>Technical Lead</strong>: Richard Jones, Cottage Labs</p>
<p><strong>Community Lead</strong>: Neil Jefferies, University of Oxford</p>
<p><strong>Funder Liaison</strong>: Dom Fripp, Jisc</p>
<p><strong>Technical Advisory Group</strong>:
Adam Rehin, Adrian Stevenson, Alan Stiles, Catherine Jones, Claire Knowles, David Moles, David Wilcox, Eoghan &Oacute; Carrag&aacute;in, Erick Peirson, 
Gertjan Filarski, Goosyara Kovbasniy, Graham Triggs, Hideaki Takeda, Jan van Mansum, Jauco Noordzij, Jochen Schirrwagen, John Chodacki,
Justin Simpson, Lars Holm Nielsen, Marisa Strong, Martin Wrigley, Masaharu Hayashi, Masud Khokhar, Mike Jackson,
Morane Gruenpeter, Neil Chue Hong, Paul Walk, Peter Sefton, Ralf Claussnitzer, Ricardo Otelo Santos Saraiva Cruz, Richard Rodgers, 
Scott Wilson, Shannon Searle, Stephanie Taylor, Stuart Lewis, Tomasz Parkola, Vitali Peil</p>
<p><a name="2."></a></p>
<h1>2. Introduction</h1>
<p>SWORD 3.0 is a protocol enabling clients and servers to communicate around complex digital objects, especially with regard to supporting the
deposit of these objects into a service like a digital repository.  Complex digital objects consist of both Metadata and File content, 
where the Files may be in a variety of formats, there may be many files, and some may be very large.  The protocol defines semantics for
creating, appending, replacing, deleting, and retrieving information about these complex resources.  It also enables servers to communicate
regarding the status of treatment of deposited content, such as exposing ingest workflow information.</p>
<p>The first major version of SWORD [<a href="#sword_1.3">SWORD 1.3</a>] built upon the Resouce creation aspects of AtomPub [<a href="#atompub">AtomPub</a>] to enable 
fire-and-forget package deposit onto a server.</p>
<p>This approach, where the depositor has no further interaction with the server is of significant value in certain use cases, but there are 
others where this is insufficient. Consider, for example, that the depositor wishes to construct a digital artifact file by file over a 
period of time before deciding that it is time to archive it. In these cases, a higher level of interactivity between the participating 
systems is required, and this is the role that SWORD 2.0 [<a href="#sword_2.0">SWORD 2.0</a>] was subsequently developed to fulfil.</p>
<p>As the use cases for SWORD have developed further, it became clear that the increasing size of files repositories were being asked to deal
with was an issue.  As a result of this, and the fact that the technological approach for SWORD 2.0 was starting to show its age, a new
version, SWORD 3.0, has been developed.  This is a radical departure from SWORD 2.0, eliminating ties with AtomPub, and moving to a much
stricter REST+JSON approach, utilising JSON-LD for alignment with Linked Data.  Its key differences to SWORD 2.0 from a functional
perspective are:</p>
<ul>
<li>Support for By-Reference file deposit</li>
<li>Support for Segmented file deposit</li>
<li>More advanced native packaging and metadata formats</li>
</ul>
<p><a name="3."></a></p>
<h1>3. Notational Conventions</h1>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
document are to be interpreted as described in [<a href="#rfc2119">RFC2119</a>].</p>
<p><a name="4."></a></p>
<h1>4. Terminology</h1>
<p><a name="4.1."></a></p>
<h2>4.1. URLs</h2>
<dl><dt><a name="file-url"></a>File-URL</dt><dd>A single Binary File within the Object</dd><dt><a name="fileset-url"></a>FileSet-URL</dt><dd>The aggregate of all Binary Files associated with the Object which are available for SWORD protocol operations to be carried out on them</dd><dt><a name="metadata-url"></a>Metadata-URL</dt><dd>The Metadata resource associated with the Object</dd><dt><a name="object-url"></a>Object-URL</dt><dd>An Object that exists on the server, probably as a result of a deposit operation, which is a container for Metadata and zero or more Files.</dd><dt><a name="service-url"></a>Service-URL</dt><dd>The location of the document which describes the server's capabilities for the user, and which may accept initial deposits</dd><dt><a name="staging-url"></a>Staging-URL</dt><dd>A URL provided by the Service where clients can initialise segmented file upload requests</dd><dt><a name="temporary-url"></a>Temporary-URL</dt><dd>A staging area where file segments can be uploaded to the server prior to a deposit operation, obtained from the Staging-URL</dd></dl>

<p><a name="4.2."></a></p>
<h2>4.2. Document Types</h2>
<dl><dt><a name="service_document"></a>Service Document</dt><dd>Describes the capabilities of the server with respect to the user</dd><dt><a name="metadata_document"></a>Metadata Document</dt><dd>A format for depositing and retrieving object Metadata</dd><dt><a name="by-reference_document"></a>By-Reference Document</dt><dd>A format for describing one or more files to be deposited By-Reference.</dd><dt><a name="metadata+by-reference_document"></a>Metadata+By-Reference Document</dt><dd>A single expression of both the Metadata and the By-Reference file deposits.</dd><dt><a name="status_document"></a>Status Document</dt><dd>A document describing the current status of the Object and its components</dd><dt><a name="binary_file"></a>Binary File</dt><dd>An opaque binary file</dd><dt><a name="packaged_content"></a>Packaged Content</dt><dd>A serialisation of the entire Object, consisting of its Metadata and Binary Files.</dd><dt><a name="error_document"></a>Error Document</dt><dd>Describes an error that occurred while processing a request.</dd><dt><a name="segmented_file_upload_document"></a>Segmented File Upload Document</dt><dd>A document describing the current status of a Segmented File Upload</dd></dl>

<p><a name="4.3."></a></p>
<h2>4.3. Namespaces</h2>
<dl><dt><a name="http://purl.org/net/sword/3.0/"></a><a href="http://purl.org/net/sword/3.0/">http://purl.org/net/sword/3.0/</a></dt><dd>All SWORDv3 extensions are defined within this namespace.  This Namespace also serves to identify the SWORD version for a given Service.</dd><dt><a name="http://purl.org/net/sword/3.0/terms/"></a><a href="http://purl.org/net/sword/3.0/terms/">http://purl.org/net/sword/3.0/terms/</a></dt><dd>All predicates associated with SWORDv3</dd><dt><a name="http://purl.org/net/sword/3.0/package/"></a><a href="http://purl.org/net/sword/3.0/package/">http://purl.org/net/sword/3.0/package/</a></dt><dd>All packaged formats defined by SWORDv3</dd><dt><a name="http://purl.org/net/sword/3.0/error/"></a><a href="http://purl.org/net/sword/3.0/error/">http://purl.org/net/sword/3.0/error/</a></dt><dd>All error documents defined by SWORDv3</dd><dt><a name="http://purl.org/net/sword/3.0/state/"></a><a href="http://purl.org/net/sword/3.0/state/">http://purl.org/net/sword/3.0/state/</a></dt><dd>Terms used to describe the state of Objects in SWORDv3</dd><dt><a name="http://purl.org/net/sword/3.0/types/"></a><a href="http://purl.org/net/sword/3.0/types/">http://purl.org/net/sword/3.0/types/</a></dt><dd>Namespace for all document types used in SWORDv3</dd><dt><a name="http://purl.org/net/sword/3.0/filestate/"></a><a href="http://purl.org/net/sword/3.0/filestate/">http://purl.org/net/sword/3.0/filestate/</a></dt><dd>Terms used to descript he state of Files in SWORDv3</dd><dt><a name="http://purl.org/net/sword/3.0/discovery/"></a><a href="http://purl.org/net/sword/3.0/discovery/">http://purl.org/net/sword/3.0/discovery/</a></dt><dd>Terms used for auto-discovery of SWORDv3 services</dd><dt><a name="http://purl.org/dc/elements/1.1/"></a><a href="http://purl.org/dc/elements/1.1/">http://purl.org/dc/elements/1.1/</a></dt><dd>The Simple Dublin Core elements.  This document uses the prefix <code>dc</code> for this namespace name; for example <code>dc:title</code></dd><dt><a name="http://purl.org/dc/terms/"></a><a href="http://purl.org/dc/terms/">http://purl.org/dc/terms/</a></dt><dd>The Extended Dublin Core terms. This document uses the prefix <code>dcterms</code> for the namespace name; for example <code>dcterms:abstract</code></dd></dl>

<p><a name="5."></a></p>
<h1>5. Structure of SWORD Objects</h1>
<p>Objects, as represented by SWORD, have the following structure:</p>
<div><img src="https://swordapp.github.io/swordv3/structure.png" alt="Structure of a SWORD Object"></div>

<div class="figure_label">Figure 1: Structure of a SWORD Object</div>

<ul>
<li>All Metadata and all types of Files are contained within the Object</li>
<li>Some Files are expressions of the Object's metadata.</li>
<li>There is a single Metadata Resource which is the abstract representation of the Metadata through which SWORD operations are carried out</li>
<li>Some Files are expressions of the Object as Packaged Content</li>
<li>Some Files are considered part of the "FileSet", which means they are available for SWORD operations to be carried out on them (replaced, removed)</li>
<li>The Object may contain arbitrary other Files which do not fit into the above categories</li>
</ul>
<p>The SWORD Object is expressed as JSON via the <a href="#9.6.">Status Document</a>, along with all its supporting metadata and workflow information.</p>
<p>Each of the three primary File categories can be identified by their <code>rel</code> values, as they appear in the <a href="#9.6.">Status Document</a>:</p>
<ul>
<li>Metadata Expressions: http://purl.org/net/sword/3.0/terms/formattedMetadata</li>
<li>FileSet Files: http://purl.org/net/sword/3.0/terms/fileSetFile</li>
<li>Packaged Content Expressions: http://purl.org/net/sword/terms/packagedContent</li>
</ul>
<p><a name="6."></a></p>
<h1>6. HTTP Headers</h1>
<p>These are the HTTP headers used by SWORD, and their meanings within the context of the protocol.  Where a Default Value is specified, this 
is what value the client or server MUST take the value to be if it is not provided explicitly in a request or response.</p>
<div class=http_headers>
<table>
<thead>
<tr>
<th>Header</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authorization</td>
<td>To pass any HTTP authorization headers, such as the content for basic auth</td>
</tr>
<tr>
<td>Content-Disposition</td>
<td>Used to transmit information to the server which tells it the nature of the deposit, and any associated parameters</td>
</tr>
<tr>
<td>Content-Length</td>
<td>Length of the content in the current payload</td>
</tr>
<tr>
<td>Content-Type</td>
<td>Mimetype of the content being delivered</td>
</tr>
<tr>
<td>Digest</td>
<td>Checksum for the depositing content. MUST include SHA-256, and allows for other formats such as MD5 and SHA (SHA-1) if still needed by the server.</td>
</tr>
<tr>
<td>ETag</td>
<td>Object version identifier, as provided by the server on GET requests and any requests which modify the object and return.</td>
</tr>
<tr>
<td>If-Match</td>
<td>Used to provider the server’s Object version identifier (ETag) for the version on which this request is intended to act. If the supplied ETag does not match, this means that the version on the server has changed since the client’s last operation, the server MUST reject the update. The client will need to retrieve the latest ETag and re-issue the request, taking into account any changes.</td>
</tr>
<tr>
<td>In-Progress</td>
<td>Whether this operation is part of a larger deposit operation, and the server should expect subsequent related requests before injecting the item into any ingest workflows.<br><br><strong>Default Value</strong>: false</td>
</tr>
<tr>
<td>Location</td>
<td>URI for the location where the requested or deposited content can be found</td>
</tr>
<tr>
<td>On-Behalf-Of</td>
<td>Username of any user the action is being carried out on behalf of</td>
</tr>
<tr>
<td>Packaging</td>
<td>URI unambiguously identifying the packaging profile<br><br><strong>Default Value</strong>: http://purl.org/net/sword/3.0/package/Binary</td>
</tr>
<tr>
<td>Slug</td>
<td>Suggested identifier for the item</td>
</tr>
<tr>
<td>Metadata-Format</td>
<td>URI unambiguously identifying the metadata format/schema/profile<br><br><strong>Default Value</strong>: http://purl.org/net/sword/3.0/types/Metadata</td>
</tr>
</tbody>
</table>
</div>
<p><a name="7."></a></p>
<h1>7. Protocol Operations</h1>
<p>This section lists the actual on-the-wire protocol operations that are part of SWORDv3.  Actual usage of each of these operations is 
dependent on the action that you wish to take.  See <a href="#8.">Protocol Requirements</a> for the rules which govern how to use these Protocol 
Operations.</p>
<p>The full set of protocol operations is available as an OpenAPI definition [<a href="#openapi">OpenAPI</a>], available as <a href="https://swordapp.github.io/swordv3/openapi.json">JSON</a>
and <a href="https://swordapp.github.io/swordv3/openapi.yaml">YAML</a>.</p>
<p><a name="7.1."></a></p>
<h2>7.1. Error Responses</h2>
<p>The following error responses are possible against some or all of the HTTP Requests.  In each case an Error Document MUST be returned by the 
server with details as to the root cause of the error.</p>
<ul>
<li><strong>400 (BadRequest)</strong> - The server could not understand your request.  Either your headers or content body are wrong or malformed.</li>
<li><strong>401 (Unauthorized)</strong> - You have not provided authentication information, please do so</li>
<li><strong>403 (Forbidden)</strong> - You are not authorised to access this resource</li>
<li><strong>404 (Not Found)</strong> - There is no resource available at the URL you requested</li>
<li><strong>405 (Method Not Allowed)</strong> - The HTTP method you requested on the resource is not permitted/available in this context</li>
<li><strong>412 (Precondition Failed)</strong> - There is a problem implementing the request as-is.  This can happen for the following reasons: your checksums may not match, you may have requested mediated deposit when the server does not support that, your headers may not be consistent with each other, your If-Match headers may not mat the current ETag, or your Segmented Upload Initialisation request may not be within parameters acceptable to the server.</li>
<li><strong>413 (Payload Too Large)</strong> - Your request body exceeds the size allowed by the server</li>
<li><strong>415 (Unsupported Media Type)</strong> - The metadata format is not the same as that identified in Metadata-Format and/or it is not supported by the server, or the packaging format is not the same as that identified in Packaging and/or it is not supported by the server</li>
</ul>
<p><a name="7.2."></a></p>
<h2>7.2. Redirects</h2>
<p>Some requests may result in redirect codes being sent to the client; the server MAY respond to any request with a suitable redirect.  These 
are the redirect codes that are used, and what they mean:</p>
<ul>
<li><strong>301 (Moved Permanently)</strong> - The URL you requested has changed, re-send this request and all future requests to the new URL</li>
<li><strong>307 (Temporary Redirect)</strong> - The URL you requested has temporarily changed, re-send this request to the new URL</li>
<li><strong>308 (Permanent Redirect)</strong> - The URL you requested has changed, re-send this request and all future requests to the new URL</li>
</ul>
<p><a name="7.3."></a></p>
<h2>7.3. HTTP Requests</h2>
<p>These are the HTTP requests that are covered by the SWORD protocol.</p>
<p>Each request MAY be responded to by the server with a redirect code (see above).  Each request MAY also generate an error; possible errors 
are listed for each section, please refer to the section above for details on the meanings of errors.</p>
<p><a name="7.3.1."></a></p>
<h3>7.3.1. GET Service-URL</h3>
<div class=openapi>
Retrieve the Service Document</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>On-Behalf-Of</li>
</ul>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Service Document<br><br><strong>Body</strong><ul><li>application/json</li></ul></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.2."></a></p>
<h3>7.3.2. POST Service-URL</h3>
<div class=openapi>
Make a new Object</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>Content-Disposition</li>
<li>Content-Length</li>
<li>Content-Type</li>
<li>Digest</li>
<li>In-Progress</li>
<li>Metadata-Format</li>
<li>On-Behalf-Of</li>
<li>Packaging</li>
<li>Slug</li>
</ul>
<p><strong>Body</strong></p>
<p>Content used to create new Object.  This can be one of: Metadata, By-Reference, Metadata+By-Reference, Binary File, Packaged Content, Empty Body</p>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>201</td>
<td>Resource created, responds with Status Document<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li><li>Location - Object-URL</li></ul><strong>Body</strong><ul><li>application/json</li></ul></td>
</tr>
<tr>
<td>202</td>
<td>Resource accepted for processing, responds with Status Document<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li><li>Location - Object-URL</li></ul><strong>Body</strong><ul><li>application/json</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>405</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
<tr>
<td>413</td>
<td></td>
</tr>
<tr>
<td>415</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.3."></a></p>
<h3>7.3.3. GET Object-URL</h3>
<div class=openapi>
Retrieve the Status information for the Object</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>On-Behalf-Of</li>
</ul>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Status Document<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li></ul><strong>Body</strong><ul><li>application/json</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.4."></a></p>
<h3>7.3.4. POST Object-URL</h3>
<div class=openapi>
Append data to an Object</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>Content-Disposition</li>
<li>Content-Length</li>
<li>Content-Type</li>
<li>Digest</li>
<li>If-Match</li>
<li>In-Progress</li>
<li>On-Behalf-Of</li>
<li>Packaging</li>
<li>Metadata-Format</li>
</ul>
<p><strong>Body</strong></p>
<p>Content to be appended to the Object.  This can be one of: Metadata, By-Reference, Metadata+By-Reference, Binary File, Packaged Content, Empty Body</p>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Content appended, responds with Status Document<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li><li>Location - The File-URL</li></ul><strong>Body</strong><ul><li>application/json</li></ul></td>
</tr>
<tr>
<td>202</td>
<td>Content accepted for append, responds with Status Document<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li><li>Location - The File-URL</li></ul><strong>Body</strong><ul><li>application/json</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
<tr>
<td>413</td>
<td></td>
</tr>
<tr>
<td>415</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.5."></a></p>
<h3>7.3.5. PUT Object-URL</h3>
<div class=openapi>
Replace the Object</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>Content-Disposition</li>
<li>Content-Length</li>
<li>Content-Type</li>
<li>Digest</li>
<li>If-Match</li>
<li>In-Progress</li>
<li>On-Behalf-Of</li>
<li>Packaging</li>
<li>Metadata-Format</li>
</ul>
<p><strong>Body</strong></p>
<p>Content to replace the Object.  This can be one of: Metadata, By-Reference, Metadata+By-Reference, Binary File, Packaged Content, Empty Body</p>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Replace carried out, responds with Status Document<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li></ul><strong>Body</strong><ul><li>application/json</li></ul></td>
</tr>
<tr>
<td>202</td>
<td>Replace accepted for action, responds with Status Document<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li></ul><strong>Body</strong><ul><li>application/json</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>405</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
<tr>
<td>413</td>
<td></td>
</tr>
<tr>
<td>415</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.6."></a></p>
<h3>7.3.6. DELETE Object-URL</h3>
<div class=openapi>
Delete the Object</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>If-Match</li>
<li>On-Behalf-Of</li>
</ul>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>Object Deleted<br><br><strong>Body</strong><ul><li>None</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>405</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.7."></a></p>
<h3>7.3.7. GET Metadata-URL</h3>
<div class=openapi>
Retrieve the Metadata</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>On-Behalf-Of</li>
</ul>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Metadata Document<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li></ul><strong>Body</strong><ul><li>application/json</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>405</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.8."></a></p>
<h3>7.3.8. PUT Metadata-URL</h3>
<div class=openapi>
Replace the Metadata</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>Content-Disposition</li>
<li>Content-Length</li>
<li>Content-Type</li>
<li>Digest</li>
<li>If-Match</li>
<li>On-Behalf-Of</li>
<li>Metadata-Format</li>
</ul>
<p><strong>Body</strong></p>
<p>Content to replace the Metadata.  This must be a Metadata Document.</p>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>Metadata Replaced, no response body<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li></ul><strong>Body</strong><ul><li>None</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>405</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
<tr>
<td>413</td>
<td></td>
</tr>
<tr>
<td>415</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.9."></a></p>
<h3>7.3.9. PUT FileSet-URL</h3>
<div class=openapi>
Replace the FileSet</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>Content-Disposition</li>
<li>Content-Length</li>
<li>Content-Type</li>
<li>Digest</li>
<li>If-Match</li>
<li>On-Behalf-Of</li>
<li>Packaging</li>
</ul>
<p><strong>Body</strong></p>
<p>Content to replace the FileSet.  This can be one of: By-Reference, Binary File, Empty Body</p>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>202</td>
<td>FileSet replacement accepted for processing, no response body<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li></ul><strong>Body</strong><ul><li>None</li></ul></td>
</tr>
<tr>
<td>204</td>
<td>FileSet Replaced, no response body<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li></ul><strong>Body</strong><ul><li>None</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>405</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
<tr>
<td>413</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.10."></a></p>
<h3>7.3.10. DELETE FileSet-URL</h3>
<div class=openapi>
Delete the FileSet</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>If-Match</li>
<li>On-Behalf-Of</li>
</ul>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>FileSet Deleted<br><br><strong>Body</strong><ul><li>None</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>405</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.11."></a></p>
<h3>7.3.11. GET File-URL</h3>
<div class=openapi>
Retrieve an individual File</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>On-Behalf-Of</li>
</ul>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Binary File<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li></ul><strong>Body</strong><ul><li>*/*</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>405</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.12."></a></p>
<h3>7.3.12. PUT File-URL</h3>
<div class=openapi>
Replace an individual File</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>Content-Disposition</li>
<li>Content-Length</li>
<li>Content-Type</li>
<li>Digest</li>
<li>If-Match</li>
<li>On-Behalf-Of</li>
</ul>
<p><strong>Body</strong></p>
<p>Content to replace the File.  This can be one of: By-Reference, Binary File, Empty Body</p>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>Binary File replaced, no response body<br><br><strong>Headers</strong><ul><li>ETag - version identifier</li></ul><strong>Body</strong><ul><li>None</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>405</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
<tr>
<td>413</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.13."></a></p>
<h3>7.3.13. DELETE File-URL</h3>
<div class=openapi>
Delete an individual File</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>If-Match</li>
<li>On-Behalf-Of</li>
</ul>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>Binary File Deleted<br><br><strong>Body</strong><ul><li>None</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>405</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.14."></a></p>
<h3>7.3.14. POST Staging-URL</h3>
<div class=openapi>
Create a Temporary-URL for Segmented File Upload</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>Content-Disposition</li>
<li>On-Behalf-Of</li>
</ul>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>201</td>
<td>Temporary-URL created<br><br><strong>Headers</strong><ul><li>Location - The Temporary-URL to which Segmented File Upload requests can be sent</li></ul><strong>Body</strong><ul><li>None</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
<tr>
<td>413</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.15."></a></p>
<h3>7.3.15. GET Temporary-URL</h3>
<div class=openapi>
Retrieve Information on a Segmented File Upload</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>On-Behalf-Of</li>
</ul>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Segmented File Upload Document<br><br><strong>Body</strong><ul><li>application/json</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.16."></a></p>
<h3>7.3.16. POST Temporary-URL</h3>
<div class=openapi>
Upload a File Segment</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>Content-Disposition</li>
<li>Content-Length</li>
<li>Content-Type</li>
<li>Digest</li>
<li>On-Behalf-Of</li>
</ul>
<p><strong>Body</strong></p>
<p>Segment to be added to the Resource.</p>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>Segment Received<br><br><strong>Body</strong><ul><li>None</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
<tr>
<td>405</td>
<td></td>
</tr>
<tr>
<td>412</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="7.3.17."></a></p>
<h3>7.3.17. DELETE Temporary-URL</h3>
<div class=openapi>
Abort a Segmented File Upload</p>
<p><strong>Headers</strong></p>
<ul>
<li>Authorization</li>
<li>On-Behalf-Of</li>
</ul>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>Temporary File Deleted<br><br><strong>Body</strong><ul><li>None</li></ul></td>
</tr>
<tr>
<td>400</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><a name="8."></a></p>
<h1>8. Protocol Requirements</h1>
<p>This section describes the requirements of every kind of operation that you can do with SWORDv3.</p>
<p>There are 3 key aspects of the specification where requirements can be applied, and these are:</p>
<ol>
<li><strong>Request</strong>: The operations that you can perform on the resources</li>
<li><strong>Content</strong>: The body content of the request, such as Metadata, By-Reference, Metadata+ByReference, Binary File, Packaged Content, Empty Body</li>
<li><strong>Resource</strong>: Service-URL<sup>[<a href="#service-url">def</a>]</sup>, Object-URL<sup>[<a href="#object-url">def</a>]</sup>, Metadata-URL<sup>[<a href="#metadata-url">def</a>]</sup>, FileSet-URL<sup>[<a href="#fileset-url">def</a>]</sup>, File-URL<sup>[<a href="#file-url">def</a>]</sup>, Staging-URL<sup>[<a href="#staging-url">def</a>]</sup>. Temporary-URL<sup>[<a href="#temporary-url">def</a>]</sup></li>
</ol>
<p>When combined for a specific request.  For example: Creating (<strong>Request</strong>) a new Object by request to the Service-URL (<strong>Resource</strong>) 
with Packaged Content (<strong>Content</strong>), these aspects tell you the exact requirements.</p>
<p>The requirements below are presented using a hierarchy; for any given combination of <strong>Request</strong>, <strong>Content</strong> and <strong>Resource</strong>
all requirements above the relevant node should be imported when considering the actual requirements for an operation.  See the document
<a href="https://swordapp.github.io/swordv3/swordv3-behaviours.html">SWORDv3 Behaviours</a> to see each of the behaviours SWORDv3 is capable of with its requirements fully 
expanded.</p>
<p><a name="8.1."></a></p>
<h2>8.1. Requirement Hierarchies</h2>
<p>The hierarchy for the Request is:</p>
<ul>
<li>*<ul>
<li>Modify<ul>
<li>Create</li>
<li>Update<ul>
<li>Append</li>
<li>Replace</li>
</ul>
</li>
</ul>
</li>
<li>Retrieve</li>
<li>Complete</li>
<li>Delete</li>
</ul>
</li>
</ul>
<p>The hierarchy for the Content is:</p>
<ul>
<li>*<ul>
<li>Body<ul>
<li>Binary<ul>
<li>Binary File</li>
<li>Packaged Content</li>
<li>File Segment</li>
</ul>
</li>
<li>JSON<ul>
<li>MD+BR</li>
<li>By-Reference</li>
<li>Metadata</li>
</ul>
</li>
</ul>
</li>
<li>Empty Body</li>
</ul>
</li>
</ul>
<p>The hierarchy for the Resource is:</p>
<ul>
<li>*<ul>
<li>Staging<ul>
<li>Temporary-URL</li>
<li>Staging-URL</li>
</ul>
</li>
<li>Deposit<ul>
<li>Service-URL</li>
<li>Components<ul>
<li>FileSet-URL</li>
<li>File-URL</li>
<li>Metadata-URL</li>
</ul>
</li>
<li>Object-URL</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>So, for example, when considering an operation such as "Creating Objects with Packaged Content", this would be take requirements as follows:</p>
<ul>
<li>For the Request, as a Create, it takes requirements from <strong>Create</strong>, <strong>Modify</strong> and <strong>*</strong></li>
<li>For the Content, as Packaged Content, it takes requirements from <strong>Packaged Content</strong>, <strong>Binary</strong>, <strong>Body</strong> and <strong>*</strong></li>
<li>For the Resource, as an operation on the Service-URL, it takes requirements from <strong>Service-URL</strong>, <strong>Deposit</strong> and <strong>*</strong></li>
</ul>
<p><a name="8.2."></a></p>
<h2>8.2. Requirement Groups</h2>
<div class=requirement-groups>
<table><thead><tr><td colspan="4" style="text-align: center"><strong>Request</strong></td><td colspan="4" style="text-align: center"><strong>Content</strong></td><td colspan="4" style="text-align: center"><strong>Resource</strong></td></tr></thead><tr><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">*</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>MAY specify <code>Authorization</code> and <code>On-Behalf-Of</code> headers (i.e. if authenticating this request)</li>
</ul></td><td colspan="3"><ul>
<li>If <code>Authorization</code> (and optionally <code>On-Behalf-Of</code>) headers are provided, MUST authenticate the request</li>
</ul></td><td colspan="3"><ul>
<li>If authentication fails, MUST respond with a <code>403</code></li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Retrieve</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">Service-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>GET Service-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If <code>Authorization</code> (and optionally <code>On-Behalf-Of</code>) headers are provided, MUST only list Service-URLs in the Service Document for which a deposit request would be permitted</li>
</ul>

<ul>
<li>MUST respond with a valid Service Document or a suitable error response</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Retrieve</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>GET Object-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>MUST respond with a valid Status document or a suitable error response</li>
</ul>

<ul>
<li>MUST include <code>ETag</code> header if implementing concurrency control</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Retrieve</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">Components</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>MUST include <code>ETag</code> header if implementing concurrency control</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Retrieve</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">Metadata-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>GET Metadata-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>MUST respond with a valid Metadata document (see definition below) or a suitable error response</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Retrieve</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">File-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>GET File-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>MUST respond with a File (which may be Packaged Content, a Binary File, a Metadata document, or any other file that the server exposes) or a suitable error response</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Modify</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">*</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>MUST provide the <code>Content-Disposition</code> header, with the appropriate value for the request</li>
</ul></td><td colspan="3"></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Modify</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">Deposit</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>MUST include <code>ETag</code> header if implementing concurrency control</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Modify</td><td colspan="4" style="text-align: center">Body</td><td colspan="4" style="text-align: center">Deposit</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If all preconditions are met, MUST either accept the deposit request immediately, queue the request for processing, or respond with an error</li>
</ul></td><td colspan="3"><ul>
<li>MUST include one or more File-URLs for the deposited content in the Status document.  The behaviour of these File-URLs may vary depending on the type of content deposited (e.g. ByReference and Segmented Uploads do not need to be immediately retrievable)</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Modify</td><td colspan="4" style="text-align: center">Body</td><td colspan="4" style="text-align: center">*</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>MUST provide the <code>Content-Type</code> and <code>Digest</code> headers</li>
</ul>

<ul>
<li>SHOULD provide the <code>Content-Length</code></li>
</ul></td><td colspan="3"><ul>
<li>MUST verify that the content matches the <code>Digest</code> header</li>
</ul>

<ul>
<li>MUST verify that the supplied content matches the <code>Content-Length</code> if this is provided</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Modify</td><td colspan="4" style="text-align: center">Metadata</td><td colspan="4" style="text-align: center">*</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>SHOULD provide the <code>Metadata-Format</code> header</li>
</ul>

<ul>
<li>MUST provide only the Metadata document</li>
</ul></td><td colspan="3"><ul>
<li>If no <code>Metadata-Format</code> header is provided, MUST assume this is the standard SWORD format: http://purl.org/net/sword/3.0/types/Metadata</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Modify</td><td colspan="4" style="text-align: center">By-Reference</td><td colspan="4" style="text-align: center">*</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>MUST provide the By-Reference document</li>
</ul></td><td colspan="3"><ul>
<li>If downloading copies of the files in the By-Reference document, MUST do this asynchronously to the deposit request</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Modify</td><td colspan="4" style="text-align: center">By-Reference</td><td colspan="4" style="text-align: center">File-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>MUST only include a single By-Reference File in the By-Reference document</li>
</ul></td><td colspan="3"><ul>
<li>If more than one By-Reference File is present, MUST reject the request.</li>
</ul></td><td colspan="3"><ul>
<li>If rejecting the request due to the presence of more than one By-Reference File in the By-Reference Document, MUST respond with a <code>400</code></li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Modify</td><td colspan="4" style="text-align: center">MD+BR</td><td colspan="4" style="text-align: center">*</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>SHOULD provide the <code>Metadata-Format</code> header</li>
</ul>

<ul>
<li>MUST provide the Metadata+By Reference document</li>
</ul></td><td colspan="3"><ul>
<li>If no <code>Metadata-Format</code> header is provided, MUST assume this is the standard SWORD format: http://purl.org/net/sword/3.0/types/Metadata</li>
</ul>

<ul>
<li>If downloading copies of the files in the By-Reference document, MUST do this asynchronously to the deposit request</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Modify</td><td colspan="4" style="text-align: center">Binary</td><td colspan="4" style="text-align: center">Deposit</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the request MUST attach the supplied file to the Object as an <code>originalDeposit</code></li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Modify</td><td colspan="4" style="text-align: center">Binary File</td><td colspan="4" style="text-align: center">*</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>MAY provide the <code>Packaging</code> header, and if so MUST be the Binary format identifier</li>
</ul>

<ul>
<li>MUST provide Binary File body content</li>
</ul></td><td colspan="3"><ul>
<li>The server SHOULD NOT attempt to unpack the file</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Modify</td><td colspan="4" style="text-align: center">Packaged Content</td><td colspan="4" style="text-align: center">*</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>MUST provide the <code>Packaging</code> header</li>
</ul>

<ul>
<li>MUST provide Packaged Content in the request body</li>
</ul></td><td colspan="3"><ul>
<li>The server MAY attempt to unpack the file, and create <code>derivedResource</code>s from it.</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Modify</td><td colspan="4" style="text-align: center">Empty Body</td><td colspan="4" style="text-align: center">*</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>MAY provide the <code>Content-Length</code> header with value <code>0</code></li>
</ul>

<ul>
<li>MUST NOT include any body content</li>
</ul></td><td colspan="3"></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Create</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">Service-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>POST Service-URL</li>
</ul></td><td colspan="3"><ul>
<li>MAY provide the <code>Slug</code> header</li>
</ul></td><td colspan="3"><ul>
<li>If a <code>Slug</code> header is provided, MAY use this as the identifier for the newly created Object.</li>
</ul>

<ul>
<li>If accepting the request MUST create a new Object</li>
</ul></td><td colspan="3"><ul>
<li>MUST respond with a <code>Location</code> header, containing the Object-URL</li>
</ul>

<ul>
<li>MUST respond with a valid Status document or a suitable error response</li>
</ul>

<ul>
<li>Status document MUST be available on GET to the Object-URL in the <code>Location</code> header immediately (irrespective of whether this is a <code>201</code> or <code>202</code> response)</li>
</ul>

<ul>
<li>MUST respond with a <code>201</code> if the item was created immediately, a <code>202</code> if the item was queued for import, or raise an error.</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Create</td><td colspan="4" style="text-align: center">Body</td><td colspan="4" style="text-align: center">Service-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>MAY provide the <code>In-Progress</code> header</li>
</ul></td><td colspan="3"><ul>
<li>If no <code>In-Progress</code> header is provided, MUST assume that it is <code>false</code></li>
</ul>

<ul>
<li>If <code>In-Progress</code> is <code>false</code>, SHOULD expect further updates to the item, and not progress it through any ingest workflows yet.</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Create</td><td colspan="4" style="text-align: center">Metadata</td><td colspan="4" style="text-align: center">Service-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the request MUST populate the Object with the supplied Metadata</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Create</td><td colspan="4" style="text-align: center">By-Reference</td><td colspan="4" style="text-align: center">Service-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the request MUST attach the By-Reference files to the Object.</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Create</td><td colspan="4" style="text-align: center">MD+BR</td><td colspan="4" style="text-align: center">Service-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the request MUST populate the Object with the supplied Metadata, and attach the By-Reference files to it.</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Create</td><td colspan="4" style="text-align: center">Empty Body</td><td colspan="4" style="text-align: center">Staging-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>POST Staging-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"><ul>
<li>If all preconditions are met, MUST create a resource to which the client can upload file segments</li>
</ul>

<ul>
<li>MUST reject the request if the conditions of the upload are not acceptable</li>
</ul></td><td colspan="3"><ul>
<li>MUST respond with a <code>201</code> to indicate that the Segmented Upload has been initialised, or raise an error.</li>
</ul>

<ul>
<li>MUST respond with a <code>Location</code> header containing the Temporary-URL where the client can upload file segments</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Update</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">Deposit</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>MUST include the <code>If-Match</code> header, if the server implements concurrency control</li>
</ul></td><td colspan="3"><ul>
<li>MUST reject the request if the <code>If-Match</code> header does not match the current <code>ETag</code> of the resource</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Update</td><td colspan="4" style="text-align: center">Body</td><td colspan="4" style="text-align: center">Deposit</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>MUST respond with a <code>200</code> if the request was accepted immediately, a <code>202</code> if the request was queued for processing, or raise an error.</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Update</td><td colspan="4" style="text-align: center">Body</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"><ul>
<li>MAY provide the <code>In-Progress</code> header</li>
</ul></td><td colspan="3"><ul>
<li>If no <code>In-Progress</code> header is provided, MUST assume that it is <code>false</code></li>
</ul></td><td colspan="3"><ul>
<li>MUST respond with a valid Status document or a suitable error response</li>
</ul>

<ul>
<li>MUST include <code>ETag</code> header if implementing concurrency control</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Append</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>POST Object-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Append</td><td colspan="4" style="text-align: center">Binary</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>MUST respond with a <code>Location</code> header, containing the File-URL of the Original Deposit File</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Append</td><td colspan="4" style="text-align: center">Metadata</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the new Metadata MUST add the Metadata to the item, and only treat this as an extension to existing Metadata.  The server MUST NOT overwrite or otherwise remove existing Metadata.</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>PUT Object-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">Binary</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the new File, MUST remove all existing Files from the Object and replace with the new File.  The new File should be marked as an <code>originalDeposit</code>.  The server MUST also remove all Metadata, so the Metadata Resource contains no fields.</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">Metadata</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the new Metadata, MUST remove all existing Files from the Object, and MUST replace the existing Metadata with the new.</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">By-Reference</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the new By-Reference files, MUST remove all existing Files from the Object and replace with the By-Reference files.  The server MUST remove the existing Files immediately, even before the By-Reference files have dereferenced.  The new files MUST be marked as <code>originalDeposit</code>s.  The server MUST also remove all Metadata, so the Metadata Resource contains no fields.</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">MD+BR</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the new Metadata and By-Reference files, MUST remove all existing Files from the Object and replace with the By-Reference files.  The server MUST remove the existing Files immediately, even before the By-Reference files have dereferenced.  The server MUST also replace all existing Metadata with the new Metadata.</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">Metadata</td><td colspan="4" style="text-align: center">Metadata-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the new Metadata MUST entirely replace the existing Metadata with the new.</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">By-Reference</td><td colspan="4" style="text-align: center">FileSet-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the new By-Reference Files, MUST replace the existing FileSet with the new files.  The server MUST remove all the old files immediately, even before the new By-Reference files have been dereferenced.  The new Files MUST be marked as <code>originalDeposit</code>s</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">Binary File</td><td colspan="4" style="text-align: center">FileSet-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the new File, MUST replace the existing FileSet with a single new File.  The File MUST be marked as an <code>originalDeposit</code></li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">By-Reference</td><td colspan="4" style="text-align: center">File-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the new By-Reference File, MUST replace the existing File.  The server MAY keep the previous file as an older version.  The new file MUST be marked as an <code>originalDeposit</code></li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">Binary File</td><td colspan="4" style="text-align: center">File-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the new File, MUST replace the existing File.  The server MAY keep the previous file as an older version.  The new File MUST be marked as an <code>originalDeposit</code></li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Update</td><td colspan="4" style="text-align: center">Body</td><td colspan="4" style="text-align: center">Components</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>MUST respond with a <code>204</code> if the replacement was deposited immediately, a <code>202</code> if the replacement was queued for import, or raise an error.</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Append</td><td colspan="4" style="text-align: center">By-Reference</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the request, MUST attach all the By-Reference files to the Object as <code>originalDeposit</code>s</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Append</td><td colspan="4" style="text-align: center">MD+BR</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If accepting the request, MUST attach all the By-Reference files to the Object as <code>originalDeposit</code>s, and MUST add the Metadata to the item, and only treat this as an extension to existing Metadata.  The server MUST NOT overwrite or otherwise remove existing Metadata.</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">Metadata-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>PUT Metadata-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">FileSet-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>PUT FileSet-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Replace</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">File-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>PUT File-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Delete</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">*</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>MUST respond with a <code>204</code> if the delete is successful, or raise an error</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Delete</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>DELETE Object-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Delete</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">FileSet-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>DELETE FileSet-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Delete</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">File-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>DELETE File-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Delete</td><td colspan="4" style="text-align: center">*</td><td colspan="4" style="text-align: center">Metadata-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>DELETE Metadata-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Complete</td><td colspan="4" style="text-align: center">Empty Body</td><td colspan="4" style="text-align: center">Object-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>POST Object-URL</li>
</ul></td><td colspan="3"><ul>
<li>MUST provide the header <code>In-Progress: false</code></li>
</ul>

<ul>
<li>MAY provide the <code>Content-Length</code> header with value <code>0</code></li>
</ul>

<ul>
<li>MUST NOT include any body content</li>
</ul></td><td colspan="3"><ul>
<li>MAY inject the content into any ingest workflows</li>
</ul></td><td colspan="3"><ul>
<li>MUST respond with a <code>204</code> or a suitable error</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Append</td><td colspan="4" style="text-align: center">Body</td><td colspan="4" style="text-align: center">Temporary-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>POST Temporary-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"><ul>
<li>MUST reject the request if the segment is incorrect or unexpected: for example, all segments were already received, or the segment is a different size than expected.</li>
</ul></td><td colspan="3"><ul>
<li>MUST respond with a <code>204</code> or a suitable error</li>
</ul></td></tr><tr><td colspan="4" style="text-align: center">Append</td><td colspan="4" style="text-align: center">File Segment</td><td colspan="4" style="text-align: center">Temporary-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>If all preconditions are met, MUST accept the file segment, and record the receipt of it</li>
</ul>

<ul>
<li>MUST be prepared to accept file segments in any order, and in parallel</li>
</ul>

<ul>
<li>MUST be able to store the incoming file segments as they arrive, and then reconstitute them into a single file when all segments have been received.</li>
</ul></td><td colspan="3"></td></tr><tr><td colspan="4" style="text-align: center">Retrieve</td><td colspan="4" style="text-align: center">Empty Body</td><td colspan="4" style="text-align: center">Temporary-URL</td></tr><tr><td colspan="3"><strong>Protocol Operation</strong></td><td colspan="3"><strong>Request Requirements</strong></td><td colspan="3"><strong>Server Requirements</strong></td><td colspan="3"><strong>Response Requirements</strong></td></tr><tr><td colspan="3"><ul>
<li>GET Temporary-URL</li>
</ul></td><td colspan="3"></td><td colspan="3"></td><td colspan="3"><ul>
<li>MUST respond with a <code>200</code> or a suitable error</li>
</ul>

<ul>
<li>If successful, MUST respond with a Segmented File Upload Document describing the current state of the upload.</li>
</ul></td></tr></table>

</div>
<p><a name="9."></a></p>
<h1>9. Documents</h1>
<p><a name="9.1."></a></p>
<h2>9.1. JSON-LD Context</h2>
<p>SWORD defines the semantics of its documents using JSON-LD [<a href="#json-ld">JSON-LD</a>].  You can see the full JSON-LD Context 
<a href="https://swordapp.github.io/swordv3/swordv3.jsonld">here</a></p>
<p><a name="9.2."></a></p>
<h2>9.2. Service Document</h2>
<p>The Service Document defines the capabilities and operational parameters of the server as a whole, or of a particular Service-URL.</p>
<p>The Service Document consists of a set of properties at the root, and a list of "services".  Each service may define a Service-URL 
and/or additional properties and further nested "services".  For the purposes of normalising the data held in the Service Document (for 
brevity of the serialised document), the Service Document MAY specify at the root properties which MUST be taken to hold true for all 
nested "services" (at any level below) unless that lower service definition overrides the properties.  A service which sits beneath the root of 
the Service Document and above another Service, MAY also redefine properties, and those overrides MUST be considered to cascade down to 
Services beneath that one.</p>
<p>A Service Document can be retrieved either for the root of the service, or from any Service within the hierarchy of Services available. 
If the root Service Document is requested, the full list of Services, including all their children, MUST be provided.  If the URL of a 
Service is requested, it MUST only provide information about itself and its children.</p>
<p>The full JSON Schema [<a href="#json-schema">JSON-SCHEMA</a>] can be downloaded <a href="https://swordapp.github.io/swordv3/service-document.schema.json">here</a>.</p>
<p>An example of the Service Document:</p>
<pre><code class="json">{
  &quot;@context&quot; : &quot;https://swordapp.github.io/swordv3/swordv3.jsonld&quot;,

  &quot;@id&quot; : &quot;http://example.com/service-document&quot;,
  &quot;@type&quot; : &quot;ServiceDocument&quot;,

  &quot;dc:title&quot; : &quot;Site Name&quot;,
  &quot;dcterms:abstract&quot; : &quot;Site Description&quot;,

  &quot;root&quot; : &quot;http://example.com/service-document&quot;,
  &quot;acceptDeposits&quot;: true,

  &quot;version&quot;: &quot;http://purl.org/net/sword/3.0&quot;,
  &quot;maxUploadSize&quot; : 16777216000,
  &quot;maxByReferenceSize&quot; : 30000000000000000,
  &quot;maxAssembledSize&quot; : 30000000000000,
  &quot;maxSegments&quot; : 1000,

  &quot;accept&quot; : [&quot;*/*&quot;],
  &quot;acceptArchiveFormat&quot; : [&quot;application/zip&quot;],
  &quot;acceptPackaging&quot; : [&quot;*&quot;],
  &quot;acceptMetadata&quot; : [&quot;http://purl.org/net/sword/3.0/types/Metadata&quot;],

  &quot;collectionPolicy&quot; : {
    &quot;@id&quot; : &quot;http://www.myorg.ac.uk/collectionpolicy&quot;,
    &quot;description&quot; : &quot;....&quot;
  },
  &quot;treatment&quot; : {
    &quot;@id&quot; : &quot;http://www.myorg.ac.uk/treatment&quot;,
    &quot;description&quot; : &quot;...&quot;
  },

  &quot;staging&quot; : &quot;http://example.com/staging&quot;,
  &quot;stagingMaxIdle&quot; : 3600,

  &quot;byReferenceDeposit&quot; : true,
  &quot;onBehalfOf&quot; : true,

  &quot;digest&quot; : [&quot;SHA-256&quot;, &quot;SHA&quot;, &quot;MD5&quot;],
  &quot;authentication&quot;: [&quot;Basic&quot;, &quot;OAuth&quot;, &quot;Digest&quot;, &quot;APIKey&quot;],

  &quot;services&quot; : [
    {
      &quot;@id&quot;: &quot;http://swordapp.org/deposit/43&quot;,

      &quot;dc:title&quot; : &quot;Deposit Service Name&quot;,
      &quot;dcterms:abstract&quot; : &quot;Deposit Service Description&quot;,

      &quot;root&quot; : &quot;http://example.com/service-document&quot;,
      &quot;parent&quot; : &quot;http://example.com/service-document&quot;,
      &quot;acceptDeposits&quot;: true,

      &quot;services&quot; : []
    }
  ]
}

</code></pre>

<p>The fields available are defined as follows:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>@context</td>
<td>string</td>
<td>The JSON-LD Context for this document<br><br>MUST be present.</td>
</tr>
<tr>
<td>@id</td>
<td>string</td>
<td>The URL of the service document you are looking at<br><br>MUST be present.</td>
</tr>
<tr>
<td>@type</td>
<td>string</td>
<td>JSON-LD identifier for the document type<br><br>This field is used to define the type of the document, and in this case should always be 'ServiceDocument'.  MUST be present.</td>
</tr>
<tr>
<td>accept</td>
<td>array</td>
<td>List of Content Types which are acceptable to the server.<br><br>MUST be present.  '*/*' for any content type, or a list of acceptable content types</td>
</tr>
<tr>
<td>acceptArchiveFormat</td>
<td>array</td>
<td>List of Archive Formats that the server can unpack.  If the server sends a package using a different format, the server MAY treat it as a Binary File<br><br>SHOULD be present.  '*' for any archive format (not recommended), or a list of acceptable formats.  If this is omitted, the client MUST assume the server only supports application/zip</td>
</tr>
<tr>
<td>acceptDeposits</td>
<td>boolean</td>
<td>Does the Service accept deposits?<br><br>SHOULD be present.  If omitted, the client MUST assume that the service does not accept deposits.</td>
</tr>
<tr>
<td>acceptMetadata</td>
<td>array</td>
<td>List of Metadata Formats which are acceptable to the server.<br><br>SHOULD be present.  '*' for any metadata format, or a list of acceptable metadata formats.  Acceptable metadata formats SHOULD be an IRI for a known format, or any other identifying string if no IRI exists.  If this is omitted, the client MUST assume the server only supports the standard SWORD metadata format: http://purl.org/net/sword/3.0/types/Metadata</td>
</tr>
<tr>
<td>acceptPackaging</td>
<td>array</td>
<td>List of Packaging Formats which are acceptable to the server.<br><br>SHOULD be present.  '*' for any packaging format, or a list of acceptable packaging formats.  Acceptable packaging formats SHOULD be an IRI for a known format, or any other identifying string if no IRI exists.  If this is omitted, the client MUST assume the server only supports the 3 required SWORD packaging formats (see the section Packaging Formats)</td>
</tr>
<tr>
<td>authentication</td>
<td>array</td>
<td>List of authentication schemes supported by the server.<br><br>SHOULD be present.  If not provided the client MUST assume the server does not support authentication.</td>
</tr>
<tr>
<td>byReferenceDeposit</td>
<td>boolean</td>
<td>Does the server support By-Reference deposit?<br><br>SHOULD be present.   If omitted, the client MUST assume the server does not support By-Reference deposit.</td>
</tr>
<tr>
<td>collectionPolicy</td>
<td>object</td>
<td>URL and description of the server’s collection policy.<br><br>MAY be present.</td>
</tr>
<tr>
<td>collectionPolicy.@id</td>
<td>string</td>
<td>Collection Policy URL</td>
</tr>
<tr>
<td>collectionPolicy.description</td>
<td>string</td>
<td>Collection Policy Description</td>
</tr>
<tr>
<td>dc:title</td>
<td>string</td>
<td>The title or name of the Service<br><br>MUST be present.</td>
</tr>
<tr>
<td>dcterms:abstract</td>
<td>string</td>
<td>A description of the service<br><br>MAY be present.</td>
</tr>
<tr>
<td>digest</td>
<td>array</td>
<td>The list of digest formats that the server will accept.<br><br>MUST be present, and MUST include SHA-256, MAY include any others.</td>
</tr>
<tr>
<td>maxAssembledSize</td>
<td>integer</td>
<td>Maximum size in bytes as an integer for the total size of an assembled segmented upload<br><br>SHOULD be present.  If omitted and segmented upload is supported, the client MUST assume the server will accept a file of any size.</td>
</tr>
<tr>
<td>maxByReferenceSize</td>
<td>integer</td>
<td>Maximum size in bytes as an integer for files uploaded by reference.<br><br>SHOULD be present.  If omitted, the client MUST assume the server will accept a file of any size.</td>
</tr>
<tr>
<td>maxSegments</td>
<td>integer</td>
<td>Maximum number of segments that the server will accept for a single segmented upload, if segmented upload is supported.<br><br>SHOULD be present.  If omitted, the client MUST assume the server will accept any number of segments.</td>
</tr>
<tr>
<td>maxUploadSize</td>
<td>integer</td>
<td>Maximum size in bytes as an integer for files being uploaded.<br><br>SHOULD be present.  If omitted, the client MUST assume the server will accept an upload of any size.</td>
</tr>
<tr>
<td>onBehalfOf</td>
<td>boolean</td>
<td>Does the server support deposit on behalf of other users (mediation)<br><br>SHOULD be present.  If omitted, the client MUST assume the server does not support On-Behalf-Of deposit.</td>
</tr>
<tr>
<td>root</td>
<td>string</td>
<td>The URL for the root Service Document.<br><br>MUST be present.</td>
</tr>
<tr>
<td>services</td>
<td>array</td>
<td>List of Services contained within the parent service<br><br>MAY be present.</td>
</tr>
<tr>
<td>staging</td>
<td>string</td>
<td>The URL where clients may stage content prior to deposit, in particular for segmented upload<br><br>MAY be present.  If omitted, the client MUST assume the server does not support Segmented Upload.</td>
</tr>
<tr>
<td>stagingMaxIdle</td>
<td>integer</td>
<td>What is the minimum time a server will hold on to an incomplete Segmented File Upload since it last received any content before deleting it.<br><br>SHOULD be present.  If omitted, the client MUST assume that the server will hold on to the incomplete file indefinitely.  Servers MAY delete the unfinished upload at any time after the minimum time stated here has elapsed.</td>
</tr>
<tr>
<td>treatment</td>
<td>object</td>
<td>URL and description of the treatment content can expect during deposit.<br><br>MAY be present.</td>
</tr>
<tr>
<td>treatment.@id</td>
<td>string</td>
<td>Treatment URL</td>
</tr>
<tr>
<td>treatment.description</td>
<td>string</td>
<td>Treatment Description</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>The version of the SWORD protocol this server supports<br><br>MUST be present.</td>
</tr>
</tbody>
</table>
<p><a name="9.3."></a></p>
<h2>9.3. Metadata Document</h2>
<p>The default SWORD Metadata document allows the deposit of a standard, basic metadata document constructed using the DCMI terms [<a href="#dcmi">DCMI</a>].  This 
Metadata document can be sent when creating an Object initially, when appending to the metadata, or in replacing the metadata or indeed the 
Object as a whole.</p>
<p>The format of the document is simple and extensible (see the <a href="#19.">Metadata Formats</a> section).  The <code>dc</code> and <code>dcterms</code> vocabularies are supported, 
and servers MUST support this metadata format.</p>
<p>The full JSON Schema [<a href="#json-schema">JSON-SCHEMA</a>] can be downloaded <a href="https://swordapp.github.io/swordv3/metadata.schema.json">here</a>.</p>
<p>An example of the Metadata Document:</p>
<pre><code class="json">{
  &quot;@context&quot; : &quot;https://swordapp.github.io/swordv3/swordv3.jsonld&quot;,

  &quot;@id&quot; : &quot;http://example.com/object/1/metadata&quot;,
  &quot;@type&quot; : &quot;Metadata&quot;,

  &quot;dc:title&quot; : &quot;The title&quot;,
  &quot;dcterms:abstract&quot; : &quot;This is my abstract&quot;,
  &quot;dc:contributor&quot; : &quot;A.N. Other&quot;
}

</code></pre>

<p>The fields available are defined as follows:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>@context</td>
<td>string</td>
<td>The JSON-LD Context for this document<br><br>MUST be present.</td>
</tr>
<tr>
<td>@id</td>
<td>string</td>
<td>The URL of the Metadata Document you are looking at<br><br>MUST be present.</td>
</tr>
<tr>
<td>@type</td>
<td>string</td>
<td>JSON-LD identifier for the document type<br><br>This field is used to define the type of the document, and in this case should always be 'Metadata'.  MUST be present.</td>
</tr>
<tr>
<td>^dc:.+$</td>
<td>string</td>
<td>Properties from the DC namespace<br><br>MAY be present.</td>
</tr>
<tr>
<td>^dcterms:.+$</td>
<td>string</td>
<td>Properties from the DCTERMS namespace<br><br>MAY be present.</td>
</tr>
</tbody>
</table>
<p>When sending this document, the client MUST provide a <code>Content-Disposition</code> header of the form:</p>
<pre><code>Content-Disposition: attachment; metadata=true
</code></pre>

<p>Additionally, when sending this document the client SHOULD provide the <code>Metadata-Format</code> header with the identifier for the format: http://purl.org/net/sword/3.0/types/Metadata</p>
<pre><code>Metadata-Format: http://purl.org/net/sword/3.0/types/Metadata
</code></pre>

<p>If the client omits the <code>Metadata-Format</code> header, the server MUST assume that it is the above format.</p>
<p><a name="9.4."></a></p>
<h2>9.4. By-Reference Document</h2>
<p>The By-Reference document allows the client to send a list of one or more files that the server will fetch asynchronously.  The 
By-Reference document can be sent when creating an Object initially, or when appending to or replacing the FileSet in the Object, or 
replacing the Object as a whole.</p>
<p>The full JSON Schema [<a href="#json-schema">JSON-SCHEMA</a>] can be downloaded <a href="https://swordapp.github.io/swordv3/by-reference.schema.json">here</a>.</p>
<p>An example of the By-Reference Document:</p>
<pre><code class="json">{
  &quot;@context&quot; : &quot;https://swordapp.github.io/swordv3/swordv3.jsonld&quot;,

  &quot;@type&quot; : &quot;ByReference&quot;,

  &quot;byReferenceFiles&quot; : [
    {
      &quot;@id&quot; : &quot;http://www.otherorg.ac.uk/by-reference/file.zip&quot;,
      &quot;contentType&quot; : &quot;application/zip&quot;,
      &quot;contentLength&quot; : 123456,
      &quot;contentDisposition&quot; : &quot;attachment; filename=file.zip&quot;,
      &quot;packaging&quot; : &quot;http://purl.org/net/sword/packaging/SimpleZip&quot;,
      &quot;digest&quot; : &quot;SHA256=....&quot;,
      &quot;ttl&quot; : &quot;2018-04-16T00:00:00Z&quot;,
      &quot;dereference&quot; : true
    }
  ]
}

</code></pre>

<p>The fields available are defined as follows:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>@context</td>
<td>string</td>
<td>The JSON-LD Context for this document<br><br>MUST be present.</td>
</tr>
<tr>
<td>@type</td>
<td>string</td>
<td>JSON-LD identifier for the document type<br><br>This field is used to define the type of the document, and in this case should always be 'ByReference'.  MUST be present.</td>
</tr>
<tr>
<td>byReferenceFiles</td>
<td>array</td>
<td>List of files to deposit By-Reference<br><br>MUST be present and contain one or more entries</td>
</tr>
<tr>
<td>byReferenceFiles[].@id</td>
<td>string</td>
<td>The URL of the file to be retrieved and deposited<br><br>MUST be present</td>
</tr>
<tr>
<td>byReferenceFiles[].contentDisposition</td>
<td>string</td>
<td>Content-Disposition as it would have been supplied if this were a regular file deposit.<br><br>MUST be present</td>
</tr>
<tr>
<td>byReferenceFiles[].contentLength</td>
<td>integer</td>
<td>Content-Length as it would have been supplied if this were a regular file deposit.<br><br>SHOULD be present</td>
</tr>
<tr>
<td>byReferenceFiles[].contentType</td>
<td>string</td>
<td>The Content-Type of the file to be retrieved and deposited<br><br>MUST be present</td>
</tr>
<tr>
<td>byReferenceFiles[].dereference</td>
<td>boolean</td>
<td>Should the server dereference the file (i.e. download it and store it locally) or should it simply maintain a link to the external resource.<br><br>MUST be present.  Note that servers MAY choose to do both, irrespective of the value here, though if <code>false</code>, the server should make the external link available to users accessing the resource.</td>
</tr>
<tr>
<td>byReferenceFiles[].digest</td>
<td>string</td>
<td>Digest as it would have been supplied if this were a regular file deposit.<br><br>MUST be present</td>
</tr>
<tr>
<td>byReferenceFiles[].packaging</td>
<td>string</td>
<td>The packaging format of the file, or the Binary file identifier<br><br>SHOULD be present.  If this is not provided, the server MUST assume this is the Binary format: http://purl.org/net/sword/3.0/package/Binary</td>
</tr>
<tr>
<td>byReferenceFiles[].ttl</td>
<td>string</td>
<td>A timestamp which indicates when the file will no longer be available (Time To Live)<br><br>If no date is provided, the server MAY assume the file will be available indefinitely.</td>
</tr>
</tbody>
</table>
<p>When sending this document, the client MUST provide a Content-Disposition header of the form:</p>
<pre><code>Content-Disposition: attachment; by-reference=true
</code></pre>

<p><a name="9.5."></a></p>
<h2>9.5. Metadata + By-Reference Document</h2>
<p>In some cases it is convenient to be able to send both Metadata and By-Reference files in a single request.  This is possible because both 
Metadata and By-Reference documents are simply JSON documents; contrast this with sending Metadata and Binary Files, where a package 
is required.</p>
<p>To do this, the client may include the Metadata and By-Reference documents embedded in a single JSON document, structured as shown below. 
The entire Metadata document (including its JSON-LD <code>@context</code>) is embedded in a field entitled <code>metadata</code>, and the entire By-Reference 
document (again, with its JSON-LD <code>@context</code>) is embedded in a field entitled <code>by-reference</code>.</p>
<p>When a document of this form is sent, the client MUST set the <code>Content-Disposition</code> header appropriately, to alert the server of its 
required behaviour.</p>
<p>An example of the Metadata + By-Reference Document:</p>
<pre><code class="json">{
  &quot;metadata&quot; : {
    &quot;@context&quot; : &quot;https://swordapp.github.io/swordv3/swordv3.jsonld&quot;,
    &quot;@type&quot; : &quot;Metadata&quot;,

    &quot;dcterms:abstract&quot; : &quot;....&quot;,
    &quot;dc:contributor&quot; : &quot;...&quot;,
    &quot;etc...&quot; : &quot;....&quot;
  },

  &quot;by-reference&quot; : {
    &quot;@context&quot; : &quot;https://swordapp.github.io/swordv3/swordv3.jsonld&quot;,
    &quot;@type&quot; : &quot;ByReference&quot;,

    &quot;byReferenceFiles&quot; : []
  }
}

</code></pre>

<p>When sending this document, the client MUST provide a <code>Content-Disposition</code> header of the form:</p>
<pre><code>Content-Disposition: attachment; metadata=true; by-reference=true
</code></pre>

<p>Additionally, when sending this document the client SHOULD provide the <code>Metadata-Format</code> header with the identifier for the format: 
http://purl.org/net/sword/3.0/types/Metadata</p>
<pre><code>Metadata-Format: http://purl.org/net/sword/3.0/types/Metadata
</code></pre>

<p>If the client omits the <code>Metadata-Format</code> header, the server MUST assume that it is the above format.</p>
<p><a name="9.6."></a></p>
<h2>9.6. Status Document</h2>
<p>The status document is provided in response to a deposit operation on a Service-URL, and can be retrieved at any subsequent point by a
GET on the Object-URL, and is returned each time the client takes action on the Object-URL.  It tells the client detailed information about 
the content and current state of the item.</p>
<p>The full JSON Schema [<a href="#json-schema">JSON-SCHEMA</a>] can be downloaded <a href="https://swordapp.github.io/swordv3/status.schema.json">here</a>.</p>
<p>An example of the Status Document:</p>
<pre><code class="json">{
  &quot;@context&quot; : &quot;https://swordapp.github.io/swordv3/swordv3.jsonld&quot;,

  &quot;@id&quot; : &quot;http://example.com/object/1&quot;,
  &quot;@type&quot; : &quot;Status&quot;,
  &quot;eTag&quot; : &quot;...&quot;,

  &quot;metadata&quot; : {
    &quot;@id&quot; : &quot;http://www.myorg.ac.uk/sword3/object1/metadata&quot;,
    &quot;eTag&quot; : &quot;...&quot;
  },
  &quot;fileSet&quot; : {
    &quot;@id&quot; : &quot;http://www.myorg.ac.uk/sword3/object1/fileset&quot;,
    &quot;eTag&quot; : &quot;...&quot;
  },

  &quot;service&quot; : &quot;http://swordapp.org/deposit/43&quot;,

  &quot;state&quot; : [
    {
      &quot;@id&quot; : &quot;http://purl.org/net/sword/3.0/state/inProgress&quot;,
      &quot;description&quot; : &quot;the item is currently inProgress&quot;
    }
  ],

  &quot;actions&quot; : {
    &quot;getMetadata&quot; : true,
    &quot;getFiles&quot; : true,
    &quot;appendMetadata&quot; : true,
    &quot;appendFiles&quot; : true,
    &quot;replaceMetadata&quot; : true,
    &quot;replaceFiles&quot; : true,
    &quot;deleteMetadata&quot; : true,
    &quot;deleteFiles&quot; : true,
    &quot;deleteObject&quot; : true
  },

  &quot;lastAction&quot; : {
    &quot;timestamp&quot; : &quot;[xsd:dateTime]&quot;,
    &quot;log&quot; : &quot;description of the event that occurred, with any verbose information&quot;,
    &quot;treatment&quot; : {
      &quot;@id&quot; : &quot;http://www.myorg.ac.uk/treatment&quot;,
      &quot;description&quot; : &quot;treatment description&quot;
    }
  },

  &quot;links&quot; : [
    {
      &quot;@id&quot; : &quot;http://www.myorg.ac.uk/col1/mydeposit.html&quot;,
      &quot;rel&quot; : [&quot;alternate&quot;],
      &quot;contentType&quot; : &quot;text/html&quot;
    },
    {
      &quot;@id&quot; : &quot;http://www.myorg.ac.uk/sword3/object1/package.zip&quot;,
      &quot;rel&quot; : [&quot;http://purl.org/net/sword/3.0/terms/originalDeposit&quot;],
      &quot;contentType&quot; : &quot;application/zip&quot;,
      &quot;packaging&quot; : &quot;http://purl.org/net/sword/3.0/package/SimpleZip&quot;,
      &quot;depositedOn&quot; : &quot;[timestamp]&quot;,
      &quot;depositedBy&quot; : &quot;[user identifier]&quot;,
      &quot;depositedOnBehalfOf&quot; : &quot;[user identifier]&quot;,
      &quot;byReference&quot; : &quot;http://www.otherorg.ac.uk/by-reference/file.zip&quot;,
      &quot;status&quot; : &quot;http://purl.org/net/sword/3.0/filestate/ingested&quot;,
      &quot;log&quot; : &quot;[any information associated with the deposit that the client should know]&quot;
    },
      {
      &quot;@id&quot; : &quot;http://www.myorg.ac.uk/sword3/object1/file1.pdf&quot;,
      &quot;rel&quot; : [
        &quot;http://purl.org/net/sword/3.0/terms/fileSetFile&quot;,
        &quot;http://purl.org/net/sword/3.0/terms/derivedResource&quot;
      ],
      &quot;contentType&quot; : &quot;application/pdf&quot;,
      &quot;derivedFrom&quot; : &quot;http://www.myorg.ac.uk/sword3/object1/package.zip&quot;,
      &quot;dcterms:relation&quot; : &quot;http://www.myorg.ac.uk/repo/123456789/file1.pdf&quot;,
      &quot;dcterms:replaces&quot; : &quot;http://www.myorg.ac.uk/sword3/object1/versions/file1.1.pdf&quot;,
      &quot;eTag&quot; : &quot;...&quot;
    },
    {
      &quot;@id&quot; : &quot;http://www.myorg.ac.uk/sword3/object1/package.1.zip&quot;,
      &quot;rel&quot; : [&quot;http://purl.org/net/sword/terms/packagedContent&quot;],
      &quot;contentType&quot; : &quot;application/zip&quot;,
      &quot;packaging&quot; : &quot;http://purl.org/net/sword/3.0/package/SimpleZip&quot;
    },
    {
      &quot;@id&quot; : &quot;http://www.swordserver.ac.uk/col1/mydeposit/metadata.xml&quot;,
      &quot;rel&quot; : [&quot;http://purl.org/net/sword/3.0/terms/formattedMetadata&quot;],
      &quot;contentType&quot; : &quot;text/json&quot;,
      &quot;metadataFormat&quot; : &quot;http://purl.org/net/sword/3.0/types/Metadata&quot;
    },
    {
      &quot;@id&quot; : &quot;http://www.myorg.ac.uk/sword3/object1/versions/file1.1.pdf&quot;,
      &quot;rel&quot; : [&quot;http://purl.org/net/sword/3.0/terms/derivedResource&quot;],
      &quot;contentType&quot; : &quot;application/pdf&quot;,
      &quot;dcterms:isReplacedBy&quot; : &quot;http://www.myorg.ac.uk/sword3/object1/file1.pdf&quot;,
      &quot;versionReplacedOn&quot; : &quot;[xsd:dateTime]&quot;
    },
    {
      &quot;@id&quot; : &quot;http://www.myorg.ac.uk/sword3/object1/reference.zip&quot;,
      &quot;rel&quot; : [
        &quot;http://purl.org/net/sword/3.0/terms/byReferenceDeposit&quot;,
        &quot;http://purl.org/net/sword/3.0/terms/originalDeposit&quot;,
        &quot;http://purl.org/net/sword/3.0/terms/fileSetFile&quot;
      ],
      &quot;byReference&quot; : &quot;http://www.otherorg.ac.uk/by-reference/file2.zip&quot;,
      &quot;log&quot; : &quot;Any information on the download, especially if it failed&quot;,
      &quot;eTag&quot; : &quot;...&quot;,
      &quot;status&quot; : &quot;http://purl.org/net/sword/3.0/filestate/ingested&quot;
    }
  ],

  &quot;forwarding&quot; : [
    {
      &quot;@id&quot; : &quot;http://www.otherorg.ac.uk/sword3/object12&quot;,

      &quot;links&quot; : [
        {
          &quot;@id&quot; : &quot;http://www.otherorg.ac.uk/col2/yourdeposit.html&quot;,
          &quot;rel&quot; : [&quot;alternate&quot;],
          &quot;contentType&quot; : &quot;text/html&quot;
        }
      ]
    }
  ]
}

</code></pre>

<p>The fields available are defined as follows:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>@context</td>
<td>string</td>
<td>The JSON-LD Context for this document<br><br>MUST be present.</td>
</tr>
<tr>
<td>@id</td>
<td>string</td>
<td>The Object-URL for this document<br><br>MUST be present</td>
</tr>
<tr>
<td>@type</td>
<td>string</td>
<td>JSON-LD identifier for the document type<br><br>This field is used to define the type of the document, and in this case should always be 'Status'.  MUST be present.</td>
</tr>
<tr>
<td>actions</td>
<td>object</td>
<td>Container for the list of actions that are available against the object for the client.<br><br>MUST be present</td>
</tr>
<tr>
<td>actions.appendFiles</td>
<td>boolean</td>
<td>Whether the client can issue a request to append one or more files (individually or via a package) to the item<br><br>MUST be present</td>
</tr>
<tr>
<td>actions.appendMetadata</td>
<td>boolean</td>
<td>Whether the client can issue a request to append the metadata of the item<br><br>MUST be present</td>
</tr>
<tr>
<td>actions.deleteFiles</td>
<td>boolean</td>
<td>Whether the client can issue a request to delete files in the item.  This may be a single file or all files.<br><br>MUST be present</td>
</tr>
<tr>
<td>actions.deleteMetadata</td>
<td>boolean</td>
<td>Whether the client can issue a request to delete all the item metadata.<br><br>MUST be present</td>
</tr>
<tr>
<td>actions.deleteObject</td>
<td>boolean</td>
<td>Whether the client can issue a request to delete the entire object.<br><br>MUST be present.</td>
</tr>
<tr>
<td>actions.getFiles</td>
<td>boolean</td>
<td>Whether the client can issue a request to retrieve any/all files in the item (both Binary Files and Packaged Content)<br><br>MUST be present</td>
</tr>
<tr>
<td>actions.getMetadata</td>
<td>boolean</td>
<td>Whether the client can issue a request to retrieve the item metadata<br><br>MUST be present</td>
</tr>
<tr>
<td>actions.replaceFiles</td>
<td>boolean</td>
<td>Whether the client can issue a request to replace files in an item.  This may be a single file or all of the files.<br><br>MUST be present</td>
</tr>
<tr>
<td>actions.replaceMetadata</td>
<td>boolean</td>
<td>Whether the client can issue a request to replace the item metadata.<br><br>MUST be present</td>
</tr>
<tr>
<td>eTag</td>
<td>string</td>
<td>The current ETag for the Object<br><br>MUST be present if the repository enforces concurrency control</td>
</tr>
<tr>
<td>fileSet</td>
<td>object</td>
<td>Information about the identifier/version of the Object's FileSet<br><br>MUST be present.</td>
</tr>
<tr>
<td>fileSet.@id</td>
<td>string</td>
<td>The FileSet-URL for this Object<br><br>MUST be present.</td>
</tr>
<tr>
<td>fileSet.eTag</td>
<td>string</td>
<td>The Etag for the FileSet<br><br>MUST be present if the server supports concurrency control</td>
</tr>
<tr>
<td>forwarding</td>
<td>array</td>
<td>List of other locations where the object is available.<br><br>MAY be present</td>
</tr>
<tr>
<td>forwarding[].@id</td>
<td>string</td>
<td>The SWORD identifier for the Object in the other system<br><br>MAY be present</td>
</tr>
<tr>
<td>forwarding[].links</td>
<td>array</td>
<td>List of links to the Object as it appears in the other system<br><br>MAY be present</td>
</tr>
<tr>
<td>forwarding[].links[].@id</td>
<td>string</td>
<td>The URL of a representation of the Object in the other system<br><br>MUST be present</td>
</tr>
<tr>
<td>forwarding[].links[].contentType</td>
<td>string</td>
<td>The Content Type of the resource<br><br>MAY be present</td>
</tr>
<tr>
<td>forwarding[].links[].rel</td>
<td>array</td>
<td>The relationship to the Object that this URL has<br><br>MAY be present</td>
</tr>
<tr>
<td>lastAction</td>
<td>object</td>
<td>Container for information about the last action taken on the object by a client (not necessarily the current client).<br><br>SHOULD be present, if appropriate</td>
</tr>
<tr>
<td>lastAction.log</td>
<td>string</td>
<td>Detailed log information about the last action<br><br>MAY be present</td>
</tr>
<tr>
<td>lastAction.timestamp</td>
<td>string</td>
<td>When the last action was taken by the client<br><br>SHOULD be present</td>
</tr>
<tr>
<td>lastAction.treatment</td>
<td>object</td>
<td>Container for information about the treatment the item received in the last action<br><br>MAY be present</td>
</tr>
<tr>
<td>lastAction.treatment.@id</td>
<td>string</td>
<td>URL for information about the treatment the item received<br><br>MAY be present</td>
</tr>
<tr>
<td>lastAction.treatment.description</td>
<td>string</td>
<td>Description of the treatment the item received<br><br>MAY be present</td>
</tr>
<tr>
<td>links</td>
<td>array</td>
<td>List of link objects referring to the various files, both content and metadata, available on the object<br><br>MUST be present if there is one or more links available to the client</td>
</tr>
<tr>
<td>links[].@id</td>
<td>string</td>
<td>The URL of the resource<br><br>MUST be present</td>
</tr>
<tr>
<td>links[].byReference</td>
<td>string</td>
<td>The external URL of the location a By-Reference deposit was retrieved from<br><br>SHOULD be present if this is an Original Deposit that was deposited By-Reference, or is an active By-Reference deposit</td>
</tr>
<tr>
<td>links[].contentType</td>
<td>string</td>
<td>Content type of the resource<br><br>SHOULD be present</td>
</tr>
<tr>
<td>links[].dcterms:isReplacedBy</td>
<td>string</td>
<td>URL to a newer version of the file in the same Object, if this is present as a resource<br><br>SHOULD be present, if newer version is present</td>
</tr>
<tr>
<td>links[].dcterms:relation</td>
<td>string</td>
<td>URL to a non-sword access point to the file<br><br>MAY be present.  For example, the URL from which an end-user would download the file via the website.  This related URL does not need to support any of the SWORD protocol operations, and indeed may even be on a server or application which has no sword support.  Primary use case is to redirect the user to the web front end for the repository.</td>
</tr>
<tr>
<td>links[].dcterms:replaces</td>
<td>string</td>
<td>URL to an older version of the file in the same Object, if this is also present as a resource.<br><br>SHOULD be present, if an older version of the file is present</td>
</tr>
<tr>
<td>links[].depositedBy</td>
<td>string</td>
<td>Identifier for the user that deposited the item<br><br>SHOULD be present if this is an Original Deposit</td>
</tr>
<tr>
<td>links[].depositedOn</td>
<td>string</td>
<td>Timestamp of when the deposit happened<br><br>SHOULD be present if this is an Original Deposit</td>
</tr>
<tr>
<td>links[].depositedOnBehalfOf</td>
<td>string</td>
<td>Identifier for the user that the item was deposited on behalf of.<br><br>SHOULD be present if this is an Original Deposit that was done On-Behalf-Of another user</td>
</tr>
<tr>
<td>links[].derivedFrom</td>
<td>string</td>
<td>Reference to URL of resource from which the current resource was derived, for example, if extracted from a package that was deposited.<br><br>SHOULD be present, if the resource is derived from another resource</td>
</tr>
<tr>
<td>links[].eTag</td>
<td>string</td>
<td>The eTag of the resource<br><br>MUST be present if the server supports concurrency control and the resource is available to the client to modify</td>
</tr>
<tr>
<td>links[].log</td>
<td>string</td>
<td>Any information associated with the deposit that the client should know.<br><br>MAY be present</td>
</tr>
<tr>
<td>links[].packaging</td>
<td>string</td>
<td>The package format identifier if the resource is a package.<br><br>SHOULD, if the resource is a package</td>
</tr>
<tr>
<td>links[].rel</td>
<td>array</td>
<td>The relationship between the resource and the object.<br><br>MUST be present. Note that multiple relationships are supported.</td>
</tr>
<tr>
<td>links[].status</td>
<td>string</td>
<td>The status of the resource, with regard to ingest.<br><br>SHOULD be present.  For example, packaged resources which are still being unpacked and ingested may announce their status here.  Likewise, by-reference deposits may do the same.  MUST be one of the allowed status URIs.  Any associated information to go along with the status, especially if the status is an error, SHOULD be in link[].log.  If no value is provided, the client MUST assume that the item is in the status: http://purl.org/net/sword/3.0/filestate/ingested</td>
</tr>
<tr>
<td>links[].versionReplacedOn</td>
<td>string</td>
<td>Date that the current resource was replaced by a newer resource<br><br>SHOULD be present if dcterms:isReplacedBy is present</td>
</tr>
<tr>
<td>metadata</td>
<td>object</td>
<td>Information about the identifier/version of the Object's Metadata<br><br>MUST be present.</td>
</tr>
<tr>
<td>metadata.@id</td>
<td>string</td>
<td>The Metadata-URL for this Object<br><br>MUST be present</td>
</tr>
<tr>
<td>metadata.eTag</td>
<td>string</td>
<td>The ETag for the Metadata<br><br>MUST be present if the server supports concurrency control</td>
</tr>
<tr>
<td>service</td>
<td>string</td>
<td>The URL for the service to which this item was deposited (the Service-URL)<br><br>MUST be present.  This is the URL from which the client can retrieve information about the settings for the server that are relevant to this item (e.g. max upload sizes, etc)</td>
</tr>
<tr>
<td>state</td>
<td>array</td>
<td>List of states that the item is in on the server.<br><br>At least one state MUST be present, using the SWORD state vocabulary.  Other states using server-specific vocabularies may also be used alongside.</td>
</tr>
<tr>
<td>state[].@id</td>
<td>string</td>
<td>Identifier for the state.<br><br>MUST be present.  At least one such identifier MUST be from the SWORD state vocabulary.</td>
</tr>
<tr>
<td>state[].description</td>
<td>string</td>
<td>Human readable description of the state<br><br>MAY be present</td>
</tr>
</tbody>
</table>
<p><a name="9.6.1."></a></p>
<h3>9.6.1. Available <code>rel</code> types and their meanings</h3>
<h4>alternate</h4>
<p>An alternate, non-SWORD URL which will allow the user to access the same object.  For example, this could be the URL of the landing page in the repository for the item.</p>
<h4>http://purl.org/net/sword/3.0/terms/originalDeposit</h4>
<p>The resource (file or package) was explicitly deposited via some deposit operation.</p>
<p>The relevant properties of the link section for any resource with this rel are</p>
<ul>
<li>packaging</li>
<li>depositedOn</li>
<li>depositedOnBehalfOf</li>
<li>status</li>
<li>log</li>
<li>dcterms:relation</li>
<li>dcterms:replaces</li>
<li>dcterms:isReplacedBy</li>
<li>versionReplaced</li>
<li>eTag</li>
<li>byReference</li>
</ul>
<h4>http://purl.org/net/sword/3.0/terms/derivedResource</h4>
<p>A file which was unpacked or otherwise derived from another deposited resource, and which itself was not explicitly deposited through some deposit operation.  The main usage would be to identify files which were extracted from a deposited zip file.</p>
<p>The relevant properties of the link section for any resource with this rel are</p>
<ul>
<li>derivedFrom</li>
<li>dcterms:relation</li>
<li>dcterms:replaces</li>
<li>dcterms:isReplacedBy</li>
<li>versionReplaced</li>
<li>eTag</li>
</ul>
<h4>http://purl.org/net/sword/terms/packagedContent</h4>
<p>A resource which makes this object available packaged in the specified package format on HTTP GET.  This is not a resource which has been deposited or derived (though it may be very similar to an originally deposited package), it is one which the server makes available as a service to the client.  Packages may be pre-built or assembled on the fly - that responsibility rests with the server.</p>
<p>The relevant properties of the link section for any resource with this rel are</p>
<ul>
<li>packaging</li>
</ul>
<h4>http://purl.org/net/sword/3.0/terms/formattedMetadata</h4>
<p>A resource which makes this object’s metadata available, serialised in the specified metadata format on HTTP GET.  This is not a resource which has been deposited or derived (though it may be very similar to the originally deposited metadata), it is one which the server makes available as a service to the client.  Metadata documents may be pre-built or assembled on the fly - that responsibility rests with the server.</p>
<p>The relevant properties of the link section for any resource with this rel are</p>
<ul>
<li>metadataFormat</li>
</ul>
<h4>http://purl.org/net/sword/3.0/terms/byReferenceDeposit</h4>
<p>A file which is currently being downloaded from an external reference.  Often will also have the rel for originalDeposit, and once all segments have been uploaded the byReferenceDeposit rel can be removed.</p>
<p>The relevant properties of the link section for any resource with this rel are</p>
<ul>
<li>byReference</li>
<li>status</li>
</ul>
<h4>http://purl.org/net/sword/3.0/terms/fileSetFile</h4>
<p>A File which can be considered by the client to be part of the FileSet.  Files in this state are available for modification via the SWORD protocol, and should be considered to form the actual "content" of the Object.</p>
<p><a name="9.6.2."></a></p>
<h3>9.6.2. Required SWORD State Information</h3>
<p><code>state/@id</code> MUST contain one of:</p>
<dl><dt><a name="http://purl.org/net/sword/3.0/state/accepted"></a>http://purl.org/net/sword/3.0/state/accepted</dt><dd>for records accepted for processing but not yet created</dd><dt><a name="http://purl.org/net/sword/3.0/state/inprogress"></a>http://purl.org/net/sword/3.0/state/inProgress</dt><dd>for records that have been deposited, but for which the deposit has not yet completed</dd><dt><a name="http://purl.org/net/sword/3.0/state/inworkflow"></a>http://purl.org/net/sword/3.0/state/inWorkflow</dt><dd>for records that are in the server’s ingest workflow</dd><dt><a name="http://purl.org/net/sword/3.0/state/ingested"></a>http://purl.org/net/sword/3.0/state/ingested</dt><dd>for records that are in the server’s archive state, whatever that might mean (e.g. published to the web)</dd><dt><a name="http://purl.org/net/sword/3.0/state/rejected"></a>http://purl.org/net/sword/3.0/state/rejected</dt><dd>for records that have been rejected from the server’s workflow</dd><dt><a name="http://purl.org/net/sword/3.0/state/deleted"></a>http://purl.org/net/sword/3.0/state/deleted</dt><dd>for tombstone records</dd></dl>

<p>The state field is a list, so it may also contain other states that are server-specific in addition to the SWORD values.</p>
<p><a name="9.6.3."></a></p>
<h3>9.6.3. Ingest Statuses for Individual Files</h3>
<p>Some files, when deposited, may be processed asynchronously to the client’s request.  For example, large files that require unpacking, 
by-reference deposits, etc.  In these cases, the client will not receive feedback on the state or success of their 
deposit in the request/response exchange.  Instead, the client may monitor the file(s) via the Status document, and for each appropriate 
file (Original Deposits), a “status” field will provide information on the current status of processing for that file.  </p>
<p>The following statuses are permitted, servers SHOULD provide one of these by each relevant file:</p>
<dl><dt><a name="http://purl.org/net/sword/3.0/filestate/pending"></a>http://purl.org/net/sword/3.0/filestate/pending</dt><dd>the server has not yet started to process this file. It may be in a queue, or it may still be in the process of deposit via a Segmented Upload.</dd><dt><a name="http://purl.org/net/sword/3.0/filestate/downloading"></a>http://purl.org/net/sword/3.0/filestate/downloading</dt><dd>the server has started to download your By-Reference file, and is not yet complete</dd><dt><a name="http://purl.org/net/sword/3.0/filestate/unpacking"></a>http://purl.org/net/sword/3.0/filestate/unpacking</dt><dd>the server has started unpacking your Packaged Content, and is not yet finished</dd><dt><a name="http://purl.org/net/sword/3.0/filestate/error"></a>http://purl.org/net/sword/3.0/filestate/error</dt><dd>there was an error either downloading or unpacking your file; information should be available in the “log” field to aid the client in understanding what went wrong.</dd><dt><a name="http://purl.org/net/sword/3.0/filestate/ingested"></a>http://purl.org/net/sword/3.0/filestate/ingested</dt><dd>the file has been successfully ingested</dd></dl>

<p><a name="9.7."></a></p>
<h2>9.7. Segmented File Upload Document</h2>
<p>A client may request information on an ongoing Segmented File Upload at any point via a GET to the Temporary-URL.</p>
<p>The full JSON Schema [<a href="#json-schema">JSON-SCHEMA</a>] can be downloaded <a href="https://swordapp.github.io/swordv3/segmented-file-upload.schema.json">here</a>.</p>
<p>An example of the Segmented File Upload Document:</p>
<pre><code class="json">{
    &quot;@context&quot;: &quot;https://swordapp.github.io/swordv3/swordv3.jsonld&quot;,
    &quot;@id&quot;: &quot;http://example.com/temporary/1&quot;,
    &quot;@type&quot;: &quot;Temporary&quot;,

    &quot;segments&quot;: {
        &quot;received&quot;: [
            1,
            2,
            4
        ],
        &quot;expecting&quot;: [
            3,
            5
        ],
        &quot;size&quot;: 10000000,
        &quot;segment_size&quot;: 2000000
    }
}

</code></pre>

<p>The fields available are defined as follows:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>@context</td>
<td>string</td>
<td>The JSON-LD Context for this document<br><br>MUST be present.</td>
</tr>
<tr>
<td>@id</td>
<td>string</td>
<td>The Temporary-URL for this document<br><br>MUST be present</td>
</tr>
<tr>
<td>@type</td>
<td>string</td>
<td>JSON-LD identifier for the document type<br><br>This field is used to define the type of the document, and in this case should always be 'Temporary'.  MUST be present.</td>
</tr>
<tr>
<td>segments</td>
<td>object</td>
<td>Container for information on file segments<br><br>MUST be present</td>
</tr>
<tr>
<td>segments.expecting</td>
<td>array</td>
<td>This list of integers identifying the segments which are expected and that have not yet been deposited<br><br>MUST be present if there are any segments remaining to be uploaded</td>
</tr>
<tr>
<td>segments.received</td>
<td>array</td>
<td>The list of integers identifying the segments that have been successfully uploaded so far.<br><br>MUST be present if one or more segments have been uploaded</td>
</tr>
<tr>
<td>segments.segment_size</td>
<td>integer</td>
<td>The expected size in bytes of the segments (except the final one) that will be uploaded.<br><br>MUST be present.</td>
</tr>
<tr>
<td>segments.size</td>
<td>integer</td>
<td>The expected size in bytes of the final resulting assembled file.<br><br>MUST be present.</td>
</tr>
</tbody>
</table>
<p><a name="9.8."></a></p>
<h2>9.8. Error Document</h2>
<p>An error document is returned at any point that a synchronous operation fails.</p>
<p>The full JSON Schema [<a href="#json-schema">JSON-SCHEMA</a>] can be downloaded <a href="https://swordapp.github.io/swordv3/error.schema.json">here</a>.</p>
<p>An example of the Error Document:</p>
<pre><code class="json">{
  &quot;@context&quot; : &quot;https://swordapp.github.io/swordv3/swordv3.jsonld&quot;,

  &quot;@type&quot; : &quot;BadRequest&quot;,

  &quot;timestamp&quot; : &quot;[xsd:dateTime]&quot;,
  &quot;error&quot; : &quot;error summary&quot;,
  &quot;log&quot; : &quot;text log of any debug information for the client&quot;
}

</code></pre>

<p>The fields available are defined as follows:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>@context</td>
<td>string</td>
<td>The JSON-LD Context for this document<br><br>MUST be present</td>
</tr>
<tr>
<td>@type</td>
<td>string</td>
<td>JSON-LD identifier for the document type<br><br>This field is used to define the type of the document, and in this case should be one of the allowed Error Doucment types.  MUST be present.</td>
</tr>
<tr>
<td>error</td>
<td>string</td>
<td>A short summary/title for the error<br><br>MUST be present</td>
</tr>
<tr>
<td>log</td>
<td>string</td>
<td>Some detail as to the error, with any information that might help resolve it.<br><br>SHOULD be present</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>When the error occurred.<br><br>MUST be present</td>
</tr>
</tbody>
</table>
<p><a name="9.8.1."></a></p>
<h3>9.8.1. Error Types</h3>
<p>The following are the error types that are available (to place in <code>@type</code>), their associated HTTP Status Code, and the legitimate reasons
for returning that error:</p>
<table>
<thead>
<tr>
<th>Error Type</th>
<th>Error Code</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td>AuthenticationFailed</td>
<td>403</td>
<td>The request supplied invalid credentials, or no credentials, when the server was expecting to authenticate the request.</td>
</tr>
<tr>
<td>BadRequest</td>
<td>400</td>
<td>The request did not meet the standard specified by the SWORD protocol. This error can be used when no other error is appropriate</td>
</tr>
<tr>
<td>ByReferenceFileSizeExceeded</td>
<td>400</td>
<td>The client supplied a By-Reference deposit file, which specified a file size which exceeded the server's limit</td>
</tr>
<tr>
<td>ByReferenceNotAllowed</td>
<td>412</td>
<td>The client attempted to carry out a By-Reference deposit on a server which does not support it</td>
</tr>
<tr>
<td>ContentMalformed</td>
<td>400</td>
<td>The body content of the request was malformed in some way, such that the server cannot read it correctly.</td>
</tr>
<tr>
<td>ContentTypeNotAcceptable</td>
<td>415</td>
<td>The <code>Content-Type</code> header specifies a content type of the request which is in a format that the server cannot accept.</td>
</tr>
<tr>
<td>DigestMismatch</td>
<td>412</td>
<td>One or more of the Digests that the server checked did not match the deposited content</td>
</tr>
<tr>
<td>ETagNotMatched</td>
<td>412</td>
<td>The client supplied an <code>If-Match</code> header which did not match the current <code>ETag</code> for the resource being updated.</td>
</tr>
<tr>
<td>ETagRequired</td>
<td>412</td>
<td>The client did not supply an <code>If-Match</code> header, when one was required by the server</td>
</tr>
<tr>
<td>FormatHeaderMismatch</td>
<td>415</td>
<td>The <code>Metadata-Format</code> or <code>Packaging</code> header does not match what the server found when looking at the Metadata or Packaged Content supplied in a request.</td>
</tr>
<tr>
<td>InvalidSegmentSize</td>
<td>400</td>
<td>The client sent a segment that was not the final segment, and was not the size that it indicated segments would be</td>
</tr>
<tr>
<td>MaxAssembledSizeExceeded</td>
<td>400</td>
<td>During a segmented upload initialisation, the client specified a total file size which is larger than the maximum assembled file size supported by the server</td>
</tr>
<tr>
<td>MaxUploadSizeExceeded</td>
<td>413</td>
<td>The request supplied body content which is larger than that supported by the server.</td>
</tr>
<tr>
<td>MetadataFormatNotAcceptable</td>
<td>415</td>
<td>The <code>Metadata-Format</code> header specifies a metadata format for the request which is in a format that the server cannot accept</td>
</tr>
<tr>
<td>MethodNotAllowed</td>
<td>405</td>
<td>The request is for a method on a resource that is not permitted. This may be permanent, temporary, and may depend on the client’s credentials</td>
</tr>
<tr>
<td>OnBehalfOfNotAllowed</td>
<td>412</td>
<td>The request contained an <code>On-Behalf-Of</code> header, although the server indicates that it does not support this.</td>
</tr>
<tr>
<td>PackagingFormatNotAcceptable</td>
<td>415</td>
<td>The <code>Packaging</code> header specifies a packaging format for the request which is in a format that the server cannot accept</td>
</tr>
<tr>
<td>SegmentedUploadNotAllowed</td>
<td>412</td>
<td>The client attempted to carry out a Segmented Upload on a server which does not support it</td>
</tr>
<tr>
<td>SegmentedUploadTimedOut</td>
<td>405</td>
<td>The client's segmented upload URL has timed out.  Servers MAY respond to this with a 404 and no explanation also.</td>
</tr>
<tr>
<td>SegmentLimitExceeded</td>
<td>400</td>
<td>During a segmented upload initialisation, the client specified a total number of intended segments which is larger than the limit specified by the server</td>
</tr>
<tr>
<td>UnexpectedSegment</td>
<td>400</td>
<td>The client sent a segment that the server was not expecting; in particular the server may have recieved all the segments it was expecting, and this is an extra one</td>
</tr>
<tr>
<td>ValidationFailed</td>
<td>400</td>
<td>The server could not validate the structure of the incoming content against its expected schema.  This may include the JSON schema of the SWORD documents, the metadata held within those documents, or the expected structure of packaged content.</td>
</tr>
</tbody>
</table>
<p><a name="10."></a></p>
<h1>10. Authentication and Authorisation</h1>
<p>It is strongly RECOMMENDED that SWORD servers support authentication and authorisation for requests.</p>
<p>SWORD servers are not restricted in the forms of authentication that they employ, and there is no minimum requirement or default supported 
approach.</p>
<p><a name="10.1."></a></p>
<h2>10.1. Announcing Support for Authentication Schemes</h2>
<p>Servers SHOULD enumerate the authentication schemes that they support in the Service Document, in the field <code>authentication</code>, and MUST draw 
from the IANA registry of HTTP auth scheme names [<a href="#iana_auth">IANA Auth</a>] where one is available.</p>
<p>Where an authentication scheme is in use by the server which is not covered by the IANA registry - such as a custom API-token-based 
approach, the server MAY indicate this in whatever way seems most appropriate.</p>
<p>For example, a Server which supports Basic, Digest and OAuth authentication, as well as a custom API-Key approach could indicate as follows:</p>
<pre><code class="json">{
  &quot;authentication&quot;: [
    &quot;Basic&quot;, 
    &quot;OAuth&quot;, 
    &quot;Digest&quot;, 
    &quot;APIKey&quot;
  ]
}
</code></pre>

<p>Servers MAY also choose to support On-Behalf-Of deposit, which means that the authenticating user is providing content to the server, as 
if another user were actually carrying out this request.  A use case for this would be when a known third-party deposit tool is sending 
content to a server and has been authorised by another user to add content on their behalf.</p>
<p>If a server supports On-Behalf-Of deposit, it SHOULD indicate this in the Service Document with the field <code>onBehalfOf</code> set to <code>true</code>. 
If this field is not present clients MUST assume that the server does not support On-Behalf-Of deposit.</p>
<pre><code class="json">{
  &quot;onBehalfOf&quot;: true
}
</code></pre>

<p><a name="10.2."></a></p>
<h2>10.2. Authentication and Authorisation in requests</h2>
<p>When carrying out authenticated requests, Authorization headers MUST be sent with every request to the server - the server is not 
responsible for maintaining state for the client.  The server is responsible for authenticating and authorising every request individually. 
Clients may choose also to send <code>Cookie</code> headers, and servers may support these, but support for Cookies is explicitly outside this 
specification.</p>
<p>When an On-Behalf-Of deposit is received, the server MUST ensure that the user identified in that header is valid with respect to the 
associated Authorization header.  For example, when using OAuth2, the On-Behalf-Of user MUST match the user for which the token in the 
Authorization header was granted.</p>
<p><a name="10.3."></a></p>
<h2>10.3. Recording Depositing Users</h2>
<p>In all cases (On-Behalf-Of or not) where a user has authenticated to make a deposit, servers SHOULD preserve the user's identity in the 
<code>depositedBy</code> property of the Original Deposit in the Status document. In On-Behalf-Of deposit, the value given in the <code>On-Behalf-Of</code> 
header SHOULD be used for the value of the <code>depositedOnBehalfOf</code> property of the Original Deposit in the Status document.</p>
<p>Note that recording a user's identity in this way does not have to contain enough information for the client to directly identify the
user, and implementers should take note of privacy legislation when choosing what information to expose in these fields.</p>
<p><a name="11."></a></p>
<h1>11. Transport Security</h1>
<p>It is strongly RECOMMENDED that servers implement modern transport layer security, whether authenticating requests or not.  If you are 
carrying out authenticated protocol operations you MUST implement TLS.</p>
<p><a name="12."></a></p>
<h1>12. Content Disposition</h1>
<p>SWORD uses the <code>Content-Disposition</code> header in client requests to indicate to the server information about the payload being delivered. 
Traditionally <code>Content-Disposition</code> is an HTTP response header, but it makes sense in the PUSH context of SWORD to use this as a request 
header.  We follow [<a href="#rfc6266">RFC6266</a>] for its usage.</p>
<p>Implementers should also note [<a href="#rfc5987">RFC5987</a>] if sending filenames which require characters outside the ISO-8859-1 character set.</p>
<p>The general format of a Content-Disposition header is as follows:</p>
<pre><code>Content-Disposition: [disposition type]; [disposition param]=[value]; ...
</code></pre>

<p>There are three general deposit operations in SWORD:</p>
<ol>
<li>A direct upload of some content, which may be Metadata, a By-Reference document, or a Binary File (which may itself be Packaged Content)</li>
<li>A Segmented Upload Initialisation</li>
<li>A File Segment for a Segmented Upload</li>
</ol>
<p>Each of these has a different <code>Content-Disposition</code>, which makes it clear to the server what it should do with that content.</p>
<p>There are two aspects which control what the Content-Disposition should be:</p>
<ul>
<li>The Upload Type</li>
<li>The Content</li>
</ul>
<p>The requirements below define what <em>Disposition Type</em> and <em>Parameters</em> are required for each kind of request.  The requirements should be
interpreted according to the following hierarchy for each of the above aspects:</p>
<p>The hierarchy for the Upload Type is:</p>
<ul>
<li>*<ul>
<li>Segmented Upload Initialisation</li>
<li>Direct Deposit</li>
<li>File Segment Upload</li>
</ul>
</li>
</ul>
<p>The hierarchy for the Content is:</p>
<ul>
<li>*<ul>
<li>Body<ul>
<li>Binary<ul>
<li>Binary File</li>
<li>Packaged Content</li>
<li>File Segment</li>
</ul>
</li>
<li>JSON<ul>
<li>MD+BR</li>
<li>By-Reference</li>
<li>Metadata</li>
</ul>
</li>
</ul>
</li>
<li>Empty Body</li>
</ul>
</li>
</ul>
<p>So, for example, if delivering a Metadata+By-Reference Document (MD+BR) as a Direct Deposit, you would take into account the following
requirements:</p>
<ul>
<li>With an Upload Type of Direct Deposit: <strong>Direct Deposit</strong> and <strong>*</strong></li>
<li>With a Content type of MD+BR: <strong>MD+BR</strong>, <strong>JSON</strong>, <strong>Body</strong> and <strong>*</strong></li>
</ul>
<p>The requirements are:</p>
<table><thead><tr><td colspan="2" style="text-align: center"><strong>Upload Type</strong></td><td colspan="2" style="text-align: center"><strong>Content</strong></td></tr></thead><tr><td colspan="2" style="text-align: center">Direct Deposit</td><td colspan="2" style="text-align: center">*</td></tr><tr><td colspan="2"><strong>Disposition Type</strong></td><td colspan="2"><strong>Param</strong></td></tr><tr><td colspan="2"><ul>
<li>attachment</li>
</ul></td><td colspan="2"></td></tr><tr><td colspan="2" style="text-align: center">Direct Deposit</td><td colspan="2" style="text-align: center">Metadata</td></tr><tr><td colspan="2"><strong>Disposition Type</strong></td><td colspan="2"><strong>Param</strong></td></tr><tr><td colspan="2"></td><td colspan="2"><ul>
<li>metadata=true - Indicates that the body content of the request contains Metadata.  A Direct Deposit containing Metadata MUST contain this parameter.</li>
</ul></td></tr><tr><td colspan="2" style="text-align: center">Direct Deposit</td><td colspan="2" style="text-align: center">By-Reference</td></tr><tr><td colspan="2"><strong>Disposition Type</strong></td><td colspan="2"><strong>Param</strong></td></tr><tr><td colspan="2"></td><td colspan="2"><ul>
<li>by-reference=true - Indicates that the body content of the request contains By-Reference files.  A Direct Deposit containing By-Reference files MUST contain this parameter.</li>
</ul></td></tr><tr><td colspan="2" style="text-align: center">Direct Deposit</td><td colspan="2" style="text-align: center">MD+BR</td></tr><tr><td colspan="2"><strong>Disposition Type</strong></td><td colspan="2"><strong>Param</strong></td></tr><tr><td colspan="2"></td><td colspan="2"><ul>
<li>metadata=true - Indicates that the body content of the request contains Metadata.  A Direct Deposit containing Metadata MUST contain this parameter.</li>
</ul>

<ul>
<li>by-reference=true - Indicates that the body content of the request contains By-Reference files.  A Direct Deposit containing By-Reference files MUST contain this parameter.</li>
</ul></td></tr><tr><td colspan="2" style="text-align: center">Direct Deposit</td><td colspan="2" style="text-align: center">Binary File</td></tr><tr><td colspan="2"><strong>Disposition Type</strong></td><td colspan="2"><strong>Param</strong></td></tr><tr><td colspan="2"></td><td colspan="2"><ul>
<li>filename=[filename] - Indicates the intended filename of the deposited file.  MAY be present, and if present the server SHOULD respect it.   If using a character set outside of ISO-8859-1, you MUST use <code>filename*</code> instead.</li>
</ul></td></tr><tr><td colspan="2" style="text-align: center">Direct Deposit</td><td colspan="2" style="text-align: center">Packaged Content</td></tr><tr><td colspan="2"><strong>Disposition Type</strong></td><td colspan="2"><strong>Param</strong></td></tr><tr><td colspan="2"></td><td colspan="2"><ul>
<li>filename=[filename] - Indicates the intended filename of the deposited file.  MAY be present, and if present the server SHOULD respect it.   If using a character set outside of ISO-8859-1, you MUST use <code>filename*</code> instead.</li>
</ul></td></tr><tr><td colspan="2" style="text-align: center">Segmented Upload Initialisation</td><td colspan="2" style="text-align: center">Empty Body</td></tr><tr><td colspan="2"><strong>Disposition Type</strong></td><td colspan="2"><strong>Param</strong></td></tr><tr><td colspan="2"><ul>
<li>segment-init</li>
</ul></td><td colspan="2"><ul>
<li>size=[bytes] - The total size of the final file.  This MUST be sent so that the server can determine when all the bytes of the file have been uploaded.</li>
</ul>

<ul>
<li>digest=[digest] - The Digest information for the resulting file as a whole, after assembly.  This MUST be present, and MUST be in the same form as if it were the HTTP header you would use if depositing this file as a whole.</li>
</ul>

<ul>
<li>segment_count=[n] - The total number of segments that will be sent to the Temporary-URL.  This MUST be present. Later, any segment uploads with segment_number greater than this number MUST be rejected by the server.</li>
</ul>

<ul>
<li>segment_size=[bytes] - The size of each segment (except the final segment) that the client will be sending.  This MUST be present.  If a non-final segment is sent with a different size, this MUST be rejected by the server.</li>
</ul></td></tr><tr><td colspan="2" style="text-align: center">File Segment Upload</td><td colspan="2" style="text-align: center">File Segment</td></tr><tr><td colspan="2"><strong>Disposition Type</strong></td><td colspan="2"><strong>Param</strong></td></tr><tr><td colspan="2"><ul>
<li>segment</li>
</ul></td><td colspan="2"><ul>
<li>segment_number=[n] - The position in the full sequence of this segment.  This MUST be present.  It MUST be an integer, and MUST start counting at 1.  Full list of segments MUST be a sequential list of integers.</li>
</ul></td></tr></table>

<p>The following examples show a number of key cases:</p>
<p><strong>A Metadata Deposit</strong></p>
<pre><code>Content-Disposition: attachment; metadata=true
</code></pre>

<p><strong>A By-Reference Deposit</strong></p>
<pre><code>Content-Disposition: attachment; by-reference=true
</code></pre>

<p><strong>A Metadata+By-Reference Deposit</strong></p>
<pre><code>Content-Disposition: attachment; metadata=true; by-reference=true
</code></pre>

<p><strong>A Binary File Deposit</strong></p>
<pre><code>Content-Disposition: attachment; filename=[filename]
</code></pre>

<p><strong>A Segmented Upload Initialisation</strong></p>
<pre><code>Content-Disposition: segment-init; size=[bytes]; digest=[digest]; segment_count=[n]; segment_size=[bytes]
</code></pre>

<p><strong>A File Segment Upload</strong></p>
<pre><code>Content-Disposition: segment; segment_number=[n]
</code></pre>

<p><a name="13."></a></p>
<h1>13. Content Digests</h1>
<p>In order to ensure that the content transmitted via SWORD is correct when it arrives at its destination, clients MUST provide Digests that 
servers MUST check against incoming content.</p>
<p><a name="13.1."></a></p>
<h2>13.1. Announcing Support For Digests</h2>
<p>Servers can announce support for the Digest formats that they support in the Service Document as follows:</p>
<pre><code class="json">{
  &quot;digest&quot;: [
    &quot;SHA-256&quot;, 
    &quot;SHA&quot;, 
    &quot;MD5&quot;
  ]
}
</code></pre>

<p>The Server SHOULD list all the digest formats that it supports.  Servers MUST support at least SHA-256 and MAY support any other digest 
formats.</p>
<p>The Digest formats MUST be identified as per the IANA HTTP Digest Algorithm values: [<a href="#iana_digest">IANA Digest</a>]</p>
<p><a name="13.2."></a></p>
<h2>13.2. Transmitting Digests</h2>
<p>SWORD uses the recommendations of [<a href="#rfc3230">RFC3230</a>] for transmitting base64 encoded Digests of request bodies.</p>
<p>For every request where there is a request body, the client MUST attach the <code>Digest</code> header with the appropriate content:</p>
<pre><code>Digest: SHA-256=MzA1ZmIzMDJiZjA4MzUzYTg5ZGY4NDIxMjcyY2JmZTEwNzM5ODdmMjJhY2Y1ZDc5NzFhOTY3MmM1MGNkN2ZlMA==
</code></pre>

<p>Note that the client MAY send multiple digests from different algorithms, separated by commas in the header:</p>
<pre><code>Digest: SHA-256=MzA1ZmIzMDJiZjA4MzUzYTg5ZGY4NDIxMjcyY2JmZTEwNzM5ODdmMjJhY2Y1ZDc5NzFhOTY3MmM1MGNkN2ZlMA==, MD5=ZjQxNjA3N2M3MDdhODJkZGJlMGE0YTk2NGRjZWEyNWE=
</code></pre>

<p>The server MUST validate at least one digest, SHOULD validate all digests, though MAY choose its preferred format to validate against.</p>
<p><a name="14."></a></p>
<h1>14. Concurrency Control</h1>
<p>Servers MAY choose to implement concurrency control, in order to ensure that clients do not accidentally overwrite or make changes that 
conflict with other changes which may have happened to the Object since it was first deposited.  Note that this does not prevent clients 
causing damage to Objects, only that it cannot be so easily done by accident.</p>
<p>Objects may change for a number of reasons after their initial creation, such as:</p>
<ul>
<li>Additional requests by the original depositing client to modify the Object</li>
<li>Requests for modify by other clients with authorisation to modify the Object</li>
<li>Modifications to the Object from agents on the server-side, such as administrators, etc.</li>
</ul>
<p>In order to provide concurrency control, SWORD follows [<a href="#rfc7232">RFC7232</a>], and specificially uses the <code>ETag</code> and <code>If-Match</code> headers.</p>
<p>On each request for a resource, or when the Status document is retrieved, the <code>ETag</code> for the resource MUST be returned.  The <code>ETag</code> gives 
the client an opaque identifier for the current version of that resource.  When the resource is being updated by the client (for example, 
it is replacing a File), the <code>ETag</code> that the client expects to be the current one MUST be sent in the <code>If-Match</code> header.  The server MUST 
then compare that with its actual current <code>ETag</code> for the resource.  If they match, the request can go ahead, otherwise the Server MUST 
respond with an error (412).</p>
<p>Note that ETags, and Concurrency Control in general, is only applicable from the Object downwards.  There are no requirements for use of 
<code>ETag</code> or <code>If-Match</code> headers on Service-URLs.</p>
<p><a name="14.1."></a></p>
<h2>14.1. Announcing Support for Concurrency Control</h2>
<p>The server does not have to announce support for concurrency control in the Service Document.  Clients MUST check response headers for the
presence of an <code>ETag</code>.  Presence of the <code>ETag</code> indicates that the server requires the client to pay attention to its concurrency control
procedures, and to carry out later requests with an <code>If-Match</code> header.</p>
<p>If supporting concurrency control, Servers MUST provide an <code>ETag</code> on all responses to requests (GET, POST, PUT) against resources from the 
Object and below.</p>
<p><a name="14.2."></a></p>
<h2>14.2. Procedures around Concurrency Control</h2>
<p>If a server supports Concurrency Control, it MUST behave in accordance with the following rules.</p>
<ul>
<li>An <code>ETag</code> MUST be provided for each SWORD resource: the Object, the Metadata, the FileSet and any Files.</li>
<li>The <code>ETag</code> is a resource-level version identifier, it MUST be the same for all expressions of the resource.  For example, all serialised 
Metadata documents (such as in JSON, or in XML) MUST have the same <code>ETag</code> as the Metadata resource, and each other.</li>
<li>The client MUST send the <code>ETag</code> that it expects to represent the current version with every request to change the resource (POST, PUT, 
DELETE) by placing it in the <code>If-Match</code> header</li>
<li>If the <code>ETag</code> supplied by the client in the <code>If-Match</code> header does not match the current <code>ETag</code> for the resource, the Server MUST respond with a 412 (Precondition
Failed) error</li>
<li>If the <code>ETag</code> supplied by the client in the <code>If-Match</code> header does match the current <code>ETag</code> for the resource, the request MUST go ahead as normal.</li>
<li>The server MUST include the <code>ETag</code> in the HTTP headers of every GET request for a resource.</li>
<li>The server MUST include the <code>ETag</code>s for the resources in the appropriate places in the Status document.</li>
<li>If a resource is modified, its <code>ETag</code> MUST change</li>
<li>If a resource is modified, the <code>ETag</code>s of all resources within which it is contained MUST change.</li>
<li>The server MAY choose between strong and weak <code>ETag</code>s, at its discretion</li>
<li>The server MAY NOT track previous <code>ETag</code> values for a resource.</li>
</ul>
<p><a name="14.3."></a></p>
<h2>14.3. Resource Hierarchy for ETag Regeneration</h2>
<p>If an <code>ETag</code> of a resource changes, the resources above it (up to the level of the Object) MUST also change.  This is to prevent a change 
at a higher level (e.g. an Object replacement) overwriting a change at a lower level (e.g. addition of a single file).</p>
<p>The Object hierarchy is as follows:</p>
<ul>
<li>Object<ul>
<li>Metadata</li>
<li>FileSet<ul>
<li>File</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>So, for example, if the Metadata is updated, then the Metadata and Object <code>ETag</code>s MUST change, but the FileSet and File <code>ETag</code>s MAY NOT. 
Similarly, if a File <code>ETag</code> changes, then the FileSet and Object <code>ETag</code>s must also change, while the Metadata <code>ETag</code> MAY NOT.</p>
<p><a name="15."></a></p>
<h1>15. Continued Deposit</h1>
<p>Some systems may wish to give the client more control over the ingest process, and SWORD uses the <code>In-Progress</code> HTTP header to allow the 
client to indicate that a deposit should not yet be injected into any post-submission or pre-ingest workflow. The <code>In-Progress</code> header MUST 
take the value <code>true</code> or <code>false</code>, and if it is not present the server MUST assume that it is <code>false</code> and behave as described below.</p>
<p>An example use case for this is that the client may be embedded into a system which uses the SWORD server as a storage layer, but which 
cannot acquire all of the content for a "finished" item in one deposit operation. Consider a user-facing system which encourages users to 
upload files one at a time through some web interface, which causes each file to be directly deposited onto the SWORD server. At the start 
of the deposit the client asserts that deposit is <code>In-Progress: true</code>, and then proceeds to upload files. If uploading them to the 
Object-URL the client continues to assert <code>In-Progress: true</code> on each request (if depositing to other URLs this is not necessary). This 
goes on until the user confirms that they have uploaded all the relevant files, or navigates away from the page. At that stage, the client 
can issue a blank HTTP POST request to the SWORD server, with <code>In-Progress: false</code> to complete the deposit.</p>
<p>Note that the <code>In-Progress</code> header is intended to indicate to the server that further content will be coming in which is associated with 
the existing content, before it can be considered "complete". It is not intended to provide workflow control, and clients MUST NOT assume 
that asserting <code>In-Progress: true</code> will have any specific effect on the state of the item.</p>
<p><a name="15.1."></a></p>
<h2>15.1. Deposit Complete</h2>
<p>If <code>In-Progress</code> is <code>false</code>, the server MAY assume that it can carry on processing the deposit as it sees fit.</p>
<p><a name="15.2."></a></p>
<h2>15.2. Deposit Incomplete</h2>
<p>If <code>In-Progress</code> is <code>true</code>, the server SHOULD expect the client to provide further updates to the item some undetermined time in the future. 
Details of how this is implemented is dependent on the server's purpose. For example, a repository system may hold items which are marked 
<code>In-Progress</code> in a workspace until such time as a client request indicates that the deposit is complete.</p>
<p><a name="15.3."></a></p>
<h2>15.3. Completing a Previously Incomplete Deposit</h2>
<p>The client can assert that a deposit process has completed by issuing an HTTP POST to the Object-URL with a blank request body and with the 
<code>In-Progress</code> header set to <code>false</code> (it may simply omit the header altogether too, as this is treated as <code>In-Progress: false</code> by the 
server). The client MAY specify a <code>Content-Length: 0</code> HTTP header, and MUST NOT include any body content.</p>
<ul>
<li>The client MAY provide an In-Progress header with a value of false</li>
<li>The client MAY provide an On-Behalf-Of header</li>
</ul>
<p>Once the server has processed the request it MUST respond with status code 204 (No Content), or a suitable error.</p>
<p><a name="16."></a></p>
<h1>16. Segmented File Upload</h1>
<p>If a client has a very large file that it wishes to transfer to the server by value, then in may be beneficial to do this in several small 
operations, rather than as a single large operation.  Large uploads are at higher risk of failure, depending on a variety of factors, and 
there is no guarantee that a SWORD server will be able to resume a partial upload.</p>
<p>In order to transfer a large file, the client can break it down into a number of equally sized segments of binary data (the final segment 
may be a different size to the rest).  It can then initialise a Segmented File Upload with the server, and then transfer the segments.  The 
server will reconstitute these segments into a single file, and then the client may deposit this file by-reference.</p>
<p>Segments can be uploaded in any order, and can be uploaded one at a time or in parallel.</p>
<p><a name="16.1."></a></p>
<h2>16.1. Announcing Support for Segmented File Upload</h2>
<p>Servers MAY support Segmented File Upload.  To do so, it must provide a staging area where file segments can be uploaded prior to the client
requesting a specific deposit operation.  The server MUST include a <code>staging</code> field in the <a href="#9.2.">Service Document</a> with a URL for where
the client can initialise its Segmented File Upload.  It SHOULD also specify how long it will retain an unfinished Segmented File Upload, before 
assuming that the client will not complete it, with the <code>stagingMaxIdle</code> field:</p>
<pre><code class="json">{
  &quot;staging&quot;: &quot;http://example.com/staging&quot;, 
  &quot;stagingMaxIdle&quot;: 3600
}
</code></pre>

<p><a name="16.2."></a></p>
<h2>16.2. Outline of Process for Segmented File Upload</h2>
<ol>
<li>
<p>Obtain the Staging-URL<sup>[<a href="#staging-url">def</a>]</sup> from the Service from which to request an Temporary-URL<sup>[<a href="#temporary-url">def</a>]</sup></p>
<p>If the client is creating a new Object, the Staging-URL can be found in the <code>staging</code> field in the <a href="#9.2.">Service Document</a>.  If an Object
already exists, the client should find the Service-URL from the <code>service</code> field in the <a href="#9.6.">Status Document</a>, then GET this URL
to obtain the appropriate <a href="#9.2.">Service Document</a>, and subsequently get the Staging-URL from the <code>staging</code> field.</p>
</li>
<li>
<p>Request a Temporary-URL<sup>[<a href="#temporary-url">def</a>]</sup> from the Service, via a <a href="#16.3.">Segmented Upload Initialisation</a> request.</p>
<p>Send a POST request to the Staging-URL, as per <a href="#7.3.14.">POST Staging-URL</a>, with the appropriate <code>Content-Disposition</code> (see below).  The
server will respond with a Temporary-URL in the <code>Location</code> header.</p>
</li>
<li>
<p>Upload all the file segments to the Temporary-URL<sup>[<a href="#temporary-url">def</a>]</sup></p>
<p>Send one or more POST requests to the Temporary-URL as per <a href="#7.3.16.">POST Temporary-URL</a>, with the appropriate <code>Content-Disposition</code> (see 
below), until all file segments have been uploaded.</p>
</li>
<li>
<p>Carry out the desired deposit operation as a By-Reference deposit, using the Temporary-URL as the by-reference file.</p>
<p>Refer to the section [By-Reference Deposit] for more information on this approach.  Deposits of content hosted at Temporary-URLs SHOULD NOT
contain the <code>ttl</code> or <code>dereference</code> fields in the By-Reference Document, and if they are included, the server MUST ignore them.</p>
</li>
</ol>
<p><a name="16.3."></a></p>
<h2>16.3. Segmented Upload Initialisation</h2>
<p>Before sending any segments to the server, the client must initialise the process.  This is done by sending a POST request to the
Staging-URL as per <a href="#7.3.14.">POST Staging-URL</a>.</p>
<p>The requirements of the protocol for a Segment Upload Initialisation are:</p>
<p><strong>Protocol Operation</strong></p>
<ul>
<li>POST Staging-URL</li>
</ul>
<p><strong>Request Requirements</strong></p>
<ul>
<li>MAY specify <code>Authorization</code> and <code>On-Behalf-Of</code> headers (i.e. if authenticating this request)</li>
<li>MUST provide the <code>Content-Disposition</code> header, with the appropriate value for the request</li>
<li>MAY provide the <code>Content-Length</code> header with value <code>0</code></li>
<li>MUST NOT include any body content</li>
</ul>
<p><strong>Server Requirements</strong></p>
<ul>
<li>If <code>Authorization</code> (and optionally <code>On-Behalf-Of</code>) headers are provided, MUST authenticate the request</li>
<li>If all preconditions are met, MUST create a resource to which the client can upload file segments</li>
<li>MUST reject the request if the conditions of the upload are not acceptable</li>
</ul>
<p><strong>Response Requirements</strong></p>
<ul>
<li>If authentication fails, MUST respond with a <code>403</code></li>
<li>MUST respond with a <code>201</code> to indicate that the Segmented Upload has been initialised, or raise an error.</li>
<li>MUST respond with a <code>Location</code> header containing the Temporary-URL where the client can upload file segments</li>
</ul>
<p>See the section <a href="#12.">Content Disposition</a> for detailed information on the <code>Content-Disposition</code> header.  Based on that section, the
supplied <code>Content-Disposition</code> would be:</p>
<pre><code>Content-Disposition: segment-init; size=[bytes]; digest=[digest]; segment_count=[n]; segment_size=[bytes]
</code></pre>

<p>The server MAY choose to reject the Segmented Upload Initialisation request at this stage, for a variety of reasons - for example, it may 
have a limit on the total number of segments it will accept, or the total size may exceed a maximum file size for assembled files.  In 
these cases, the server MUST respond with one of the appropriate <a href="#9.8.1.">Error Types</a>.</p>
<p>If the request is successful, the server will respond with a Temporary-URL in the <code>Location</code> header, and the segments themselves can be
uploaded to that URL.</p>
<p><a name="16.4."></a></p>
<h2>16.4. Uploading File Segments</h2>
<p>Segments may be uploaded in any order and may also be parallelised.  Segments MUST all be the same size, with the exception of the final 
segment with MUST be the same size or smaller than the other segments.  Segments size MUST be smaller than the <code>maxUploadSize</code> specified in 
the <a href="#9.2.">Service Document</a>.</p>
<p>The requirements of the protocol for File Segment Upload are:</p>
<p><strong>Protocol Operation</strong></p>
<ul>
<li>POST Temporary-URL</li>
</ul>
<p><strong>Request Requirements</strong></p>
<ul>
<li>MAY specify <code>Authorization</code> and <code>On-Behalf-Of</code> headers (i.e. if authenticating this request)</li>
<li>MUST provide the <code>Content-Disposition</code> header, with the appropriate value for the request</li>
<li>MUST provide the <code>Content-Type</code> and <code>Digest</code> headers</li>
<li>SHOULD provide the <code>Content-Length</code></li>
</ul>
<p><strong>Server Requirements</strong></p>
<ul>
<li>If <code>Authorization</code> (and optionally <code>On-Behalf-Of</code>) headers are provided, MUST authenticate the request</li>
<li>MUST verify that the content matches the <code>Digest</code> header</li>
<li>MUST verify that the supplied content matches the <code>Content-Length</code> if this is provided</li>
<li>MUST reject the request if the segment is incorrect or unexpected: for example, all segments were already received, or the segment is a different size than expected.</li>
<li>If all preconditions are met, MUST accept the file segment, and record the receipt of it</li>
<li>MUST be prepared to accept file segments in any order, and in parallel</li>
<li>MUST be able to store the incoming file segments as they arrive, and then reconstitute them into a single file when all segments have been received.</li>
</ul>
<p><strong>Response Requirements</strong></p>
<ul>
<li>If authentication fails, MUST respond with a <code>403</code></li>
<li>MUST respond with a <code>204</code> or a suitable error</li>
</ul>
<p>See the section <a href="#12.">Content Disposition</a> for detailed information on the <code>Content-Disposition</code> header.  Based on that section, the
supplied <code>Content-Disposition</code> would be:</p>
<pre><code>Content-Disposition: segment; segment_number=[n]
</code></pre>

<p>The <code>Content-Type</code> header MUST just be <code>application/octet-stream</code>.</p>
<p>The <code>Digest</code> header MUST contain the Digest for the File Segment itself, so the server can confirm successful transfer of the segment.</p>
<p><a name="16.5."></a></p>
<h2>16.5. Retrieving Information about a Segmented File Upload</h2>
<p>At any point after creating a Temporary-URL, the client may request information on the state of their Segmented File Upload.  This can
be done via a GET to the Temporary-URL.</p>
<p>This will return you a document as described in <a href="#9.7.">Segmented File Upload Document</a>.</p>
<p>The requirements for this operation are:</p>
<p><strong>Protocol Operation</strong></p>
<ul>
<li>GET Temporary-URL</li>
</ul>
<p><strong>Request Requirements</strong></p>
<ul>
<li>MAY specify <code>Authorization</code> and <code>On-Behalf-Of</code> headers (i.e. if authenticating this request)</li>
</ul>
<p><strong>Server Requirements</strong></p>
<ul>
<li>If <code>Authorization</code> (and optionally <code>On-Behalf-Of</code>) headers are provided, MUST authenticate the request</li>
</ul>
<p><strong>Response Requirements</strong></p>
<ul>
<li>If authentication fails, MUST respond with a <code>403</code></li>
<li>MUST respond with a <code>200</code> or a suitable error</li>
<li>If successful, MUST respond with a Segmented File Upload Document describing the current state of the upload.</li>
</ul>
<p><strong>NOTE</strong> that you cannot retrieve an actual copy of the full or partially uploaded Segmented File Upload from the Temporary-URL at any point.</p>
<p><a name="16.6."></a></p>
<h2>16.6. Aborting an Upload</h2>
<p>If, part way through a segmented upload (even after completion) the client wishes to abort, it can send an DELETE request to the 
Temporary-URL, with the following requirements:</p>
<p><strong>Request Requirements</strong></p>
<ul>
<li>MAY specify <code>Authorization</code> and <code>On-Behalf-Of</code> headers (i.e. if authenticating this request)</li>
</ul>
<p><strong>Server Requirements</strong></p>
<ul>
<li>If <code>Authorization</code> (and optionally <code>On-Behalf-Of</code>) headers are provided, MUST authenticate the request</li>
</ul>
<p><strong>Response Requirements</strong></p>
<ul>
<li>If authentication fails, MUST respond with a <code>403</code></li>
<li>MUST respond with a <code>204</code> if the delete is successful, or raise an error</li>
</ul>
<p>If a client submits the Temporary-URL as a By-Reference deposit to the server after completing the upload, the client SHOULD NOT delete
the Temporary-URL themselves, the server SHOULD take responsibility for this.  If the client deletes the resource before the By-Reference
deposit has completed, the server SHOULD record an error against the ingest.</p>
<p><a name="16.7."></a></p>
<h2>16.7. Incomplete Upload Retention</h2>
<p>Servers SHOULD delete incomplete Segmented File Uploads after a specified amount of time (in the Service Document), if they are not 
finalised with all segments.</p>
<p><a name="16.8."></a></p>
<h2>16.8. Completed Upload Retention</h2>
<p>Servers SHOULD delete completed Segmented File Uploads after a specified amount of time (in the Service Document).  Servers MUST be able to
tell when they have been given one of their own Temporary-URLs as a By-Reference deposit, and not delete that resource until after it has
been ingested.</p>
<p><a name="16.9."></a></p>
<h2>16.9. Errors</h2>
<p>Servers MUST respond with Error documents under the following circumstances (in addition to the standard errors that may arise through using
the protocol):</p>
<ul>
<li>An initialisation request is sent which specifies a total size larger than that allowed by the server (MaxAssembledSizeExceeded)</li>
<li>An initialisation request is sent which specifies a segment size larger than that allowed by the server (MaxUploadSizeExceeded)</li>
<li>An initialisation request is sent which specifies a segment count larger than that allowed by the server (SegmentLimitExceeded)</li>
<li>An upload request is sent after the total_size has been reached (MethodNotAllowed)</li>
<li>An upload request is sent after the segment_count has been reached (MethodNotAllowed)</li>
<li>A segment is received which is not the final segment and is not the same as the expected file size (InvalidSegmentSize)</li>
<li>A segment is received which is the final segment which is larger than the other segment sizes (InvalidSegmentSize)</li>
<li>A segment number is received which is not in the allowed range (SegmentLimitExceeded)</li>
</ul>
<p>The server MAY respond with an Error document under the following circumstances:</p>
<ul>
<li>The Temporary-URL has timed out, and the server will no longer receive updates to it (SegmentedUploadTimedOut)</li>
</ul>
<p>If any other errors occur asynchronously, such as in reassembling or unpacking the resulting file, servers MUST provide an error <code>status</code> 
field and suitable <code>log</code> information in the link record in the Status document.</p>
<p><a name="17."></a></p>
<h1>17. By-Reference Deposit</h1>
<p>By-Reference Deposit is when the client provides the server with URLs for Files which it would like the server to retrieve asynchronously 
to the deposit request itself.  This could be useful in a number of contexts, such as when the files are very large, and are stored on 
specialist staging hardware, or where the files are already readily available elsewhere, and there is no need to push them through a 
by-value deposit.</p>
<p><a name="17.1."></a></p>
<h2>17.1. Announcing Support for By Reference Deposit</h2>
<p>Servers MAY support By-Reference deposit.  If a server supports By-Reference it SHOULD indicate this in the <a href="#9.2.">Service Document</a> 
using the field <code>byReferenceDeposit</code>:</p>
<pre><code class="json">{
  &quot;byReferenceDeposit&quot;: true
}
</code></pre>

<p><a name="17.2."></a></p>
<h2>17.2. Options for By-Reference Deposit</h2>
<p>Clients may use a By-Reference Deposit anywhere a by-value deposit could be carried out.  Instead of sending any Binary content, the 
client sends the <a href="#9.4.">By-Reference Document</a> containing one or more (depending on context) URLs to files which the server can
retrieve.</p>
<p>See the document <a href="https://swordapp.github.io/swordv3/swordv3-behaviours.html">SWORDv3 Behaviours</a> for an expansion of the <a href="#8.">Protocol Requirements</a> for 
requests to deposit By-Reference.</p>
<p>The <a href="#12.">Content Disposition</a> for a By-Reference deposit is:</p>
<pre><code>Content-Disposition: attachment; by-reference=true
</code></pre>

<p><a name="17.2.1."></a></p>
<h3>17.2.1. Usage with Segmented File Upload</h3>
<p>If carrying out a <a href="#16.">Segmented File Upload</a>, the final deposit stage is to send the Temporary-URL<sup>[<a href="#temporary-url">def</a>]</sup> to the server 
as part of a By-Reference deposit.  In this case the client SHOULD omit the <code>ttl</code> and <code>dereference</code> fields from the
<a href="#9.4.">By-Reference Document</a>, thus:</p>
<pre><code class="json">{
  &quot;@context&quot; : &quot;https://swordapp.github.io/swordv3/swordv3.jsonld&quot;,

  &quot;@type&quot; : &quot;ByReference&quot;,

  &quot;byReferenceFiles&quot; : [
    {
      &quot;@id&quot; : &quot;[Temporary-URL]&quot;,
      &quot;contentType&quot; : &quot;application/zip&quot;,
      &quot;contentLength&quot; : 123456,
      &quot;contentDisposition&quot; : &quot;attachment; filename=file.zip&quot;,
      &quot;packaging&quot; : &quot;http://purl.org/net/sword/packaging/SimpleZip&quot;,
      &quot;digest&quot; : &quot;SHA256=....&quot;
    }
  ]
}

</code></pre>

<p>The server MUST recognise one of its own Temporary-URLs, and should implement ingest in the most efficient way possible, remembering that
you cannot retrieve a copy of the actual Segmented File Upload from the Temporary-URL via GET, so the server MUST have a way to retrieve the content
from those uploads in another way.  The server MUST NOT delete the resource
until after it has been successfully ingested (i.e. the <code>stagingMaxIdle</code> time should be ignored when the server has received the resource
as a By-Reference deposit).</p>
<p><a name="17.3."></a></p>
<h2>17.3. Server-Side Processing of By Reference Deposits</h2>
<p>The following is the procedure that MUST be followed by servers implementing By-Reference deposit.</p>
<ol>
<li>
<p>The server receives a <a href="#9.4.">By-Reference Document</a> with one or more files listed</p>
</li>
<li>
<p>The server creates records for each of these files that it plans to dereference, which then become visible in the 
<a href="#9.6.">Status Document</a>.  Files marked by the client not to be dereferenced are considered metadata, and MAY NOT appear in the Status 
Document.  All other supplied Files MUST have the status <code>pending</code> in the Status Document.</p>
</li>
<li>
<p>The server responds to the client with the appropriate response for the action (See <a href="#7.">Protocol Operations</a> and <a href="#8.">Protocol Requirements</a>)</p>
</li>
<li>
<p>At its own pace, taking into account the <code>ttl</code> of the Files, the server obtains all the files that are marked for dereference and 
validates them against their Digest and any other supporting information such as <code>contentType</code>, <code>contentLength</code>, and <code>packaging</code>.  During 
the download the server SHOULD set the status to <code>downloading</code>.  The server SHOULD be able to resume an interrupted download.</p>
</li>
<li>
<p>Once the Files are downloaded and processed, the server MUST set the status to <code>ingested</code>.  If the Files need unpacking first, the 
server SHOULD first set the status to <code>unpacking</code> and then <code>ingested</code> when this operation is complete.  The server MUST also remove the 
<code>byReferenceDeposit</code> rel.</p>
</li>
<li>
<p>If there is an error in downloading or otherwise processing the file, the server MUST set the status to <code>error</code> and SHOULD provide a 
meaningful <code>log</code> message.</p>
</li>
<li>
<p>The server MAY continue to record the original URL of the file if desired.</p>
</li>
</ol>
<p><a name="17.3.1."></a></p>
<h3>17.3.1. Representation in the Status Document</h3>
<p>While a By-Reference File is being processed, it MUST be represented in the <a href="#9.6.">Status Document</a> under the <code>link</code> field.  The
following sections show how it is represented.</p>
<p><strong>On Initial Deposit</strong></p>
<pre><code class="json">{
  &quot;status&quot;: &quot;http://purl.org/net/sword/3.0/filestate/pending&quot;, 
  &quot;eTag&quot;: &quot;1&quot;, 
  &quot;@id&quot;: &quot;http://www.myorg.ac.uk/sword3/object1/reference.zip&quot;, 
  &quot;byReference&quot;: &quot;http://www.otherorg.ac.uk/by-reference/file2.zip&quot;, 
  &quot;rel&quot;: [
    &quot;http://purl.org/net/sword/3.0/terms/byReferenceDeposit&quot;, 
    &quot;http://purl.org/net/sword/3.0/terms/originalDeposit&quot;, 
    &quot;http://purl.org/net/sword/3.0/terms/fileSetFile&quot;
  ]
}
</code></pre>

<p><strong>During Download</strong></p>
<pre><code class="json">{
  &quot;status&quot;: &quot;http://purl.org/net/sword/3.0/filestate/downloading&quot;, 
  &quot;eTag&quot;: &quot;1&quot;, 
  &quot;@id&quot;: &quot;http://www.myorg.ac.uk/sword3/object1/reference.zip&quot;, 
  &quot;byReference&quot;: &quot;http://www.otherorg.ac.uk/by-reference/file2.zip&quot;, 
  &quot;rel&quot;: [
    &quot;http://purl.org/net/sword/3.0/terms/byReferenceDeposit&quot;, 
    &quot;http://purl.org/net/sword/3.0/terms/originalDeposit&quot;, 
    &quot;http://purl.org/net/sword/3.0/terms/fileSetFile&quot;
  ]
}
</code></pre>

<p><strong>During Unpacking</strong></p>
<pre><code class="json">{
  &quot;status&quot;: &quot;http://purl.org/net/sword/3.0/filestate/unpacking&quot;, 
  &quot;eTag&quot;: &quot;2&quot;, 
  &quot;@id&quot;: &quot;http://www.myorg.ac.uk/sword3/object1/reference.zip&quot;, 
  &quot;byReference&quot;: &quot;http://www.otherorg.ac.uk/by-reference/file2.zip&quot;, 
  &quot;rel&quot;: [
    &quot;http://purl.org/net/sword/3.0/terms/originalDeposit&quot;, 
    &quot;http://purl.org/net/sword/3.0/terms/fileSetFile&quot;
  ]
}
</code></pre>

<p><strong>After Completion</strong></p>
<pre><code class="json">{
  &quot;status&quot;: &quot;http://purl.org/net/sword/3.0/filestate/ingested&quot;, 
  &quot;eTag&quot;: &quot;2&quot;, 
  &quot;@id&quot;: &quot;http://www.myorg.ac.uk/sword3/object1/reference.zip&quot;, 
  &quot;byReference&quot;: &quot;http://www.otherorg.ac.uk/by-reference/file2.zip&quot;, 
  &quot;rel&quot;: [
    &quot;http://purl.org/net/sword/3.0/terms/originalDeposit&quot;, 
    &quot;http://purl.org/net/sword/3.0/terms/fileSetFile&quot;
  ]
}
</code></pre>

<p><strong>In Case of Error</strong></p>
<pre><code class="json">{
  &quot;status&quot;: &quot;http://purl.org/net/sword/3.0/filestate/error&quot;, 
  &quot;log&quot;: &quot;There was an error ingesting your file&quot;, 
  &quot;byReference&quot;: &quot;http://www.otherorg.ac.uk/by-reference/file2.zip&quot;, 
  &quot;eTag&quot;: &quot;2&quot;, 
  &quot;rel&quot;: [
    &quot;http://purl.org/net/sword/3.0/terms/originalDeposit&quot;, 
    &quot;http://purl.org/net/sword/3.0/terms/fileSetFile&quot;
  ], 
  &quot;@id&quot;: &quot;http://www.myorg.ac.uk/sword3/object1/reference.zip&quot;
}
</code></pre>

<p><a name="17.4."></a></p>
<h2>17.4. Responsibilities of the client/reference server</h2>
<p>To provide deposit By-Reference, the reference server, where the file is initially hosted, SHOULD:</p>
<ul>
<li>Support resumable downloads</li>
<li>Hold the file for sufficient time for the repository to retrieve it</li>
</ul>
<p>To use By-Reference deposit, the client SHOULD:</p>
<ul>
<li>Follow up on the deposit to determine if the dereference of the file has been successful</li>
<li>Be able to take suitable onward action if there is an error</li>
</ul>
<p><a name="18."></a></p>
<h1>18. Metadata Deposit</h1>
<p>SWORD allows the client to deposit arbitrary metadata onto the server through agnostic support for metadata formats.  A metadata format is
any document which expresses metadata in a given serialisation.  SWORD has a default format
which MUST be supported by the server, which consists of the set of DCMI Terms [<a href="#dcmi">DCMI</a>] expressed as JSON (see <a href="#9.3.">Metadata Document</a>).</p>
<p>In general, the form of metadata consists of several aspects:</p>
<ol>
<li>
<p>The serialisation, such as to JSON or XML</p>
</li>
<li>
<p>The vocabulary of the metadata, such as Dublin Core, or MODS (sometimes the vocabulary and the serialisation will be conflated here)</p>
</li>
<li>
<p>The profile of the metadata, such as the RIOXX profile for DC (+extensions)</p>
</li>
</ol>
<p>Any format (combining the 3 aspects above) may be represented by an IRI in the protocol, or an opaque string if no IRI exists or can be minted.</p>
<p><a name="18.1."></a></p>
<h2>18.1. Announcing Support for Metadata Formats</h2>
<p>The server can list Metadata formats that it will accept in the <code>acceptMetadata</code> field of the <a href="#9.2.">Service Document</a>.</p>
<p>If no <code>acceptMetadata</code> field is present, the client MUST assume the server only supports the default SWORD metadata format 
(http://purl.org/net/sword/3.0/types/Metadata).</p>
<pre><code class="json">{
  &quot;acceptMetadata&quot;: [
    &quot;http://purl.org/net/sword/3.0/types/Metadata&quot;
  ]
}
</code></pre>

<p><a name="18.2."></a></p>
<h2>18.2. Indicating Metadata Format to the Server</h2>
<p>During deposit, the client SHOULD specify a <code>Metadata-Format</code> header which contains the identifier for the format.  For example, if 
supplying the default SWORD metadata format:</p>
<pre><code>Metadata-Format: http://purl.org/net/sword/3.0/types/Metadata
</code></pre>

<p>If this header is not present the server MUST assume it has the above value.</p>
<p><a name="19."></a></p>
<h1>19. Metadata Formats</h1>
<p><a name="19.1."></a></p>
<h2>19.1. Default Format</h2>
<p>In order to provide a baseline of interoperability, SWORD provides a default metadata format which MUST be supported by the server.  This 
document has the following aspects (as per <a href="#18.">Metadata Deposit</a>):</p>
<ol>
<li>
<p>It is serialised as JSON and with a JSON-LD <code>@context</code></p>
</li>
<li>
<p>It contains <code>dc</code> and <code>dcterms</code> vocabulary elements, and any other arbitrary elements added by the client</p>
</li>
<li>
<p>It does not pre-suppose any particular profile of usage of these vocabulary elements.</p>
</li>
</ol>
<p>Clients MAY choose to extend this document with their own metadata fields, though the server MAY NOT understand them, and MAY ignore them.</p>
<p>When using this Metadata Format, the client should identify it in the Metadata-Format header with the following IRI:</p>
<pre><code>http://purl.org/net/sword/3.0/types/Metadata
</code></pre>

<p><a name="19.2."></a></p>
<h2>19.2. Depositing Other Formats</h2>
<p>In addition to the standard SWORD metadata format described above, SWORD can support the deposit of arbitrary metadata schemas and 
serialisations.  </p>
<p>Clients who wish to ensure that their servers support all the metadata they send them should consider minting a new identifier for their 
format, and looking for servers to declare explicit support for it.</p>
<p>The following is a minimal example of the deposit of a MODS XML metadata file while creating a new Object:</p>
<pre><code>POST Service-URL
Content-Type: application/xml
Content-Disposition: attachment; metadata=true
Digest: SHA-256=74b2851bd2760785b0987ba219debea69c228353f7ccc67a2bdcd9819f97fc71
Metadata-Format: http://www.loc.gov/mods/v3

&lt;mods xmlns:mods=&quot;http://www.loc.gov/mods/v3&quot;&gt;
  &lt;originInfo&gt;
    &lt;place&gt;
      &lt;placeTerm type=&quot;code&quot; authority=&quot;marccountry&quot;&gt;nyu&lt;/placeTerm&gt;
      &lt;placeTerm type=&quot;text&quot;&gt;Ithaca, NY&lt;/placeTerm&gt;
    &lt;/place&gt;
    &lt;publisher&gt;Cornell University Press&lt;/publisher&gt;
    &lt;copyrightDate&gt;1999&lt;/copyrightDate&gt;
  &lt;/originInfo&gt;
&lt;/mods&gt;
</code></pre>

<p>If the server supports the MODS Metadata-Format, identified with the IRI <code>http://www.loc.gov/mods/v3</code> then it will be able to create a new 
Object from this XML document, and populate the Metadata from the data therein.</p>
<p><a name="20."></a></p>
<h1>20. Packaged Content Deposit</h1>
<p>SWORD allows you to deposit both Files and Metadata simultaneously through support of Packaged Content.  SWORD does not place any limitations
on the number or type of packaging formats that the client/server support, though see the section <a href="#21.">Packaging Formats</a> for the
packages that MUST be supported by the server.</p>
<p><a name="20.1."></a></p>
<h2>20.1. Announcing Support for Packaged Content Deposit</h2>
<p>The <a href="#9.2.">Service Document</a> uses the <code>acceptPackaging</code> field to indicate that a Service will accept deposits of a particular 
packaging format, and the <code>acceptArchiveFormat</code> field to indicate the serialisation/compression formats that it understands.</p>
<p>Clients should refer to the <code>treatment</code> description in the Service Document to find out the treatment for a particular packaging type.</p>
<p>Packages formats SHOULD be identified by a IRI, but MAY be identified by an arbitrary string.</p>
<p>If no <code>acceptPackaging</code> field is supplied the client MUST assume that the server does not formally support any package formats, and 
should expect everything to be treated as per the server's policies with regard to the mimetype as per the <code>accept</code> element.</p>
<p>If no <code>acceptArchiveFormat</code> field is supplied the client MUST assume that the server supports <code>application/zip</code> only.</p>
<pre><code class="json">{
  &quot;acceptArchiveFormat&quot;: [
    &quot;application/zip&quot;
  ], 
  &quot;acceptPackaging&quot;: [
    &quot;*&quot;
  ], 
  &quot;accept&quot;: [
    &quot;*/*&quot;
  ]
}
</code></pre>

<p><a name="20.2."></a></p>
<h2>20.2. Package support during resource creation</h2>
<p>When depositing Packaged Content, the client SHOULD indicate the archive file MIME type using the <code>Content-Type</code> header, and SHOULD also 
give information about content packaging using the <code>Packaging</code> header.</p>
<p>The value of the <code>Packaging</code> header SHOULD match one of values the server has advertised as acceptable for the service.</p>
<p>If a server receives a POST with an unacceptable <code>Packaging</code> header value, it MUST reject the POST by returning an HTTP response with a 
status code of <code>415</code> (Unsupported Media Type) and a SWORD Error document with URI 
http://purl.net/org/sword/3.0/error/PackagingFormatNotAcceptable, or store the content without further processing.</p>
<p><a name="20.3."></a></p>
<h2>20.3. Package description in Status documents</h2>
<p>Status documents can speak about packaging in two distinct ways, depending on whether an element in the <code>links</code> list refers to a file that 
was deposited, or a file that is available for retrieval by the client (or both).</p>
<p>When a package has been deposited as the Original Deposit, it SHOULD record the packaging format and content type alongside it in the record.</p>
<pre><code class="json">{
  &quot;packaging&quot;: &quot;http://purl.org/net/sword/3.0/package/SimpleZip&quot;, 
  &quot;contentType&quot;: &quot;application/zip&quot;, 
  &quot;@id&quot;: &quot;http://www.myorg.ac.uk/sword3/object1/package.zip&quot;, 
  &quot;rel&quot;: [
    &quot;http://purl.org/net/sword/3.0/terms/originalDeposit&quot;
  ]
}
</code></pre>

<p>Similarly, when a package has been created by the server from the Object’s content and made available to the client as a service, the 
packaging format and content type MUST be presented alongside it:</p>
<pre><code class="json">{
  &quot;packaging&quot;: &quot;http://purl.org/net/sword/3.0/package/SimpleZip&quot;, 
  &quot;contentType&quot;: &quot;application/zip&quot;, 
  &quot;@id&quot;: &quot;http://www.myorg.ac.uk/sword3/object1/package.1.zip&quot;, 
  &quot;rel&quot;: [
    &quot;http://purl.org/net/sword/terms/packagedContent&quot;
  ]
}
</code></pre>

<p><a name="21."></a></p>
<h1>21. Packaging Formats</h1>
<p>There are 3 packaging formats the all SWORD implementations MUST support.</p>
<p><a name="21.1."></a></p>
<h2>21.1. Binary</h2>
<p>URI: http://purl.org/net/sword/3.0/package/Binary</p>
<p>This format indicates that the package should be interpreted as an opaque blob, and the server SHOULD NOT attempt to extract any content 
from it.  This is typically for use when depositing single files, which do not need unpacking of any kind.</p>
<p>Servers MAY choose, nonetheless, to extract content from Binary packages, if they have the capabilities, such as metadata from images, 
structural information from text documents, etc.</p>
<p><a name="21.2."></a></p>
<h2>21.2. SimpleZip</h2>
<p>URI: http://purl.org/net/sword/3.0/package/SimpleZip</p>
<p>This format indicates that the package is a compressed set of one or more files in an arbitrary directory structure.  The nature of the 
compression and the structure of the compressed content is not specified.</p>
<p>Servers MAY choose to extract the content from SimpleZip packages, and present the individual file components as <code>derivedResource</code>s, if 
desired.</p>
<p><a name="21.3."></a></p>
<h2>21.3. SWORDBagIt</h2>
<p>URI: http://purl.org/net/sword/3.0/package/SWORDBagIt</p>
<p>This format is a profile of the BagIt directory structure, which has in turn been serialised (which may include compression).  The nature 
of the serialisation/compression is not specified, though if the client wishes the server to extract the content, it SHOULD use one of
the formats specified in the <a href="#9.2.">Service Document</a> field <code>acceptArchiveFormat</code>.</p>
<pre><code>SwordBagIt
| -- bag-info.txt
| -- bagit.txt
| -- data
| -- | -- bitstreams ...
|    \ -- directories ...
|         \ bitstreams ...
| -- manifest-sha-256.txt
| -- metadata
|     \-- sword.json
\ -- tagmanifest-sha-256.txt
</code></pre>

<p>This allows us to represent the item as a combination of an arbitrary structure of bitstreams in the data directory (similar to SimpleZip), 
and the metadata in the sword default format in <code>metadata/sword.json</code>.  A <code>manifest</code> (and <code>tagmanifest</code>) of sha-256 checksums is required, as 
well as the <code>bagit.txt</code> file and a <code>bag-info.txt</code> file.</p>
<p>The content of <code>sword.json</code> is exactly as defined in the SWORD default Metadata.  Note that use of <code>fetch.txt</code> is not supported here.</p>
<p>The server SHOULD unpack this file, and action at least the Metadata.  The contents of the data directory MAY be unpackaged into 
<code>derivedResource</code>s if the server desires.  It is RECOMMENDED that the contents of the data directory be a flat file structure, to aid 
mutual comprehension by servers/clients.</p>
<p><a name="22."></a></p>
<h1>22. Auto-Discovery</h1>
<p>In order to assist potential clients discover a server’s capabilities, SWORD RECOMMENDS the following auto-discovery features to be 
embedded in any web interfaces associated with the service provider.</p>
<p><a name="22.1."></a></p>
<h2>22.1. For Services</h2>
<p>Embed an html link with a rel value of http://purl.org/net/sword/3.0/discovery/Service</p>
<pre><code>&lt;html:link rel=&quot;http://purl.org/net/sword/3.0/discovery/Service&quot; href=&quot;[Service-URL]&quot;/&gt;
</code></pre>

<p><a name="22.2."></a></p>
<h2>22.2. For Objects</h2>
<p>Embed an html link with a rel value of http://purl.org/net/sword/3.0/discovery/Object in any page which represents a deposited resource.</p>
<pre><code>&lt;html:link rel=&quot;http://purl.org/net/sword/3.0/discovery/Object&quot; href=&quot;[Object-URL]&quot;/&gt;
</code></pre>

<p><a name="23."></a></p>
<h1>23. References</h1>
<p><a name="atompub"><strong>AtomPub</strong> Gregario, J. and B. de hOra, "The Atom Publishing Protocol", RFC 5023, October 2007. <a href="http://www.ietf.org/rfc/rfc5023.txt">http://www.ietf.org/rfc/rfc5023.txt</a> </p>
<p><a name="dcmi"><strong>DCMI</strong> DCMI Metadata Terms, 2012-06-14 <a href="http://dublincore.org/documents/dcmi-terms/">http://dublincore.org/documents/dcmi-terms/</a> </p>
<p><a name="iana_auth"><strong>IANA Auth</strong> Hypertext Transfer Protocol (HTTP) Authentication Scheme Registry <a href="https://www.iana.org/assignments/http-authschemes/http-authschemes.xhtml">https://www.iana.org/assignments/http-authschemes/http-authschemes.xhtml</a> </p>
<p><a name="iana_digest"><strong>IANA Digest</strong> Hypertext Transfer Protocol (HTTP) Digest Algorithm Values <a href="https://www.iana.org/assignments/http-dig-alg/http-dig-alg.xhtml">https://www.iana.org/assignments/http-dig-alg/http-dig-alg.xhtml</a> </p>
<p><a name="json-ld"><strong>JSON-LD</strong> JSON-LD 1.1, A JSON-based Serialization for Linked Data, 28 March 2018 <a href="https://json-ld.org/spec/latest/json-ld/">https://json-ld.org/spec/latest/json-ld/</a> </p>
<p><a name="json-schema"><strong>JSON-SCHEMA</strong> JSON Schema: A Media Type for Describing JSON Documents <a href="http://json-schema.org/latest/json-schema-core.html">http://json-schema.org/latest/json-schema-core.html</a> </p>
<p><a name="openapi"><strong>OpenAPI</strong> OpenAPI Specification, Version 3.0.0 <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md</a> </p>
<p><a name="rfc2119"><strong>RFC2119</strong> Bradner, S. "Key words for use in RFCs to Indicate Requirement Levels", March 1997. <a href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a> </p>
<p><a name="rfc3230"><strong>RFC3230</strong> J. Mogul et al "Instance Digests in HTTP" <a href="https://www.ietf.org/rfc/rfc3230.txt">https://www.ietf.org/rfc/rfc3230.txt</a> </p>
<p><a name="rfc5987"><strong>RFC5987</strong> J. Reschke. "Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters" <a href="https://tools.ietf.org/html/rfc5987">https://tools.ietf.org/html/rfc5987</a> </p>
<p><a name="rfc6266"><strong>RFC6266</strong> J. Reschke. "Use of the Content-Disposition Header Field in the Hypertext Transfer Protocol (HTTP)", 2011 <a href="https://tools.ietf.org/html/rfc6266">https://tools.ietf.org/html/rfc6266</a> </p>
<p><a name="rfc7232"><strong>RFC7232</strong> R. Fielding and J. Reschke, "Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests", June 2014 <a href="https://tools.ietf.org/html/rfc7232">https://tools.ietf.org/html/rfc7232</a> </p>
<p><a name="sword_1.3"><strong>SWORD 1.3</strong> Downing, J. "SWORD AtomPub Profile version 1.3", 2008. <a href="http://www.swordapp.org/docs/sword-profile-1.3.html">http://www.swordapp.org/docs/sword-profile-1.3.html</a> </p>
<p><a name="sword_2.0"><strong>SWORD 2.0</strong> Jones, R. and Lewis, S. "SWORD 2.0 Profile", 2011 <a href="http://swordapp.github.io/SWORDv2-Profile/SWORDProfile.html">http://swordapp.github.io/SWORDv2-Profile/SWORDProfile.html</a> </p>
</div></body>
</html>

